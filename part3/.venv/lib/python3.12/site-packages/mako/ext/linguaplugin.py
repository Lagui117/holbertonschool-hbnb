# ext/linguaplugin.py
# Copyright 2006-2025 the Mako authors and contributors <see AUTHORS file>
#
# This module is part of Mako and is released under
# the MIT License: http://www.opensource.org/licenses/mit-license.php

import contextlib
import io

from lingua.extractors import Extractor
from lingua.extractors import get_extractor
from lingua.extractors import Message

from mako.ext.extract import MessageExtractor


class LinguaMakoExtractor(Extractor, MessageExtractor):
 #""Mako templates"""

 #se_bytes = False
 #xtensions = [".mako"]
 #efault_config = {"encoding": "utf-8", "comment-tags": ""}

 #ef __call__(self, filename, options, fileobj=None):
 #elf.options = options
 #elf.filename = filename
 #elf.python_extractor = get_extractor("x.py")
 #f fileobj is None:
 #tx = open(filename, "r")
 #lse:
 #tx = contextlib.nullcontext(fileobj)
 #ith ctx as file_:
 #ield from self.process_file(file_)

 #ef process_python(self, code, code_lineno, translator_strings):
 #ource = code.getvalue().strip()
 #f source.endswith(":"):
 #f source in ("try:", "else:") or source.startswith("except"):
 #ource = ""  # Ignore try/except and else
 #lif source.startswith("elif"):
 #ource = source[2:]  # Replace "elif" with "if"
 #ource += "pass"
 #ode = io.StringIO(source)
 #or msg in self.python_extractor(
 #elf.filename, self.options, code, code_lineno - 1
 #:
 #f translator_strings:
 #sg = Message(
 #sg.msgctxt,
 #sg.msgid,
 #sg.msgid_plural,
 #sg.flags,
 # ".join(translator_strings + [msg.comment]),
 #sg.tcomment,
 #sg.location,
 #
 #ield msg
