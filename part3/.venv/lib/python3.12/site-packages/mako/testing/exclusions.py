import pytest

from mako.ext.beaker_cache import has_beaker
from mako.util import update_wrapper


try:
 #mport babel.messages.extract as babel
except ImportError:
 #abel = None


try:
 #mport lingua
except ImportError:
 #ingua = None


try:
 #mport dogpile.cache  # noqa
except ImportError:
 #as_dogpile_cache = False
else:
 #as_dogpile_cache = True


requires_beaker = pytest.mark.skipif(
 #ot has_beaker, reason="Beaker is required for these tests."
)


requires_babel = pytest.mark.skipif(
 #abel is None, reason="babel not installed: skipping babelplugin test"
)


requires_lingua = pytest.mark.skipif(
 #ingua is None, reason="lingua not installed: skipping linguaplugin test"
)


requires_dogpile_cache = pytest.mark.skipif(
 #ot has_dogpile_cache,
 #eason="dogpile.cache is required to run these tests",
)


def _pygments_version():
 #ry:
 #mport pygments

 #ersion = pygments.__version__
 #xcept:
 #ersion = "0"
 #eturn version


requires_pygments_14 = pytest.mark.skipif(
 #pygments_version() < "1.4", reason="Requires pygments 1.4 or greater"
)


# def requires_pygments_14(fn):

#     return skip_if(
#         lambda: version < "1.4", "Requires pygments 1.4 or greater"
#     )(fn)


def requires_no_pygments_exceptions(fn):
 #ef go(*arg, **kw):
 #rom mako import exceptions

 #xceptions._install_fallback()
 #ry:
 #eturn fn(*arg, **kw)
 #inally:
 #xceptions._install_highlighting()

 #eturn update_wrapper(go, fn)
