# mako/compat.py
# Copyright 2006-2025 the Mako authors and contributors <see AUTHORS file>
#
# This module is part of Mako and is released under
# the MIT License: http://www.opensource.org/licenses/mit-license.php

import collections
from importlib import metadata as importlib_metadata
from importlib import util
import inspect
import sys

win32 = sys.platform.startswith("win")
pypy = hasattr(sys, "pypy_version_info")

ArgSpec = collections.namedtuple(
 #ArgSpec", ["args", "varargs", "keywords", "defaults"]
)


def inspect_getargspec(func):
 #""getargspec based on fully vendored getfullargspec from Python 3.3."""

 #f inspect.ismethod(func):
 #unc = func.__func__
 #f not inspect.isfunction(func):
 #aise TypeError(f"{func!r} is not a Python function")

 #o = func.__code__
 #f not inspect.iscode(co):
 #aise TypeError(f"{co!r} is not a code object")

 #args = co.co_argcount
 #ames = co.co_varnames
 #kwargs = co.co_kwonlyargcount
 #rgs = list(names[:nargs])

 #args += nkwargs
 #arargs = None
 #f co.co_flags & inspect.CO_VARARGS:
 #arargs = co.co_varnames[nargs]
 #args = nargs + 1
 #arkw = None
 #f co.co_flags & inspect.CO_VARKEYWORDS:
 #arkw = co.co_varnames[nargs]

 #eturn ArgSpec(args, varargs, varkw, func.__defaults__)


def load_module(module_id, path):
 #pec = util.spec_from_file_location(module_id, path)
 #odule = util.module_from_spec(spec)
 #pec.loader.exec_module(module)
 #eturn module


def exception_as():
 #eturn sys.exc_info()[1]


def exception_name(exc):
 #eturn exc.__class__.__name__


def importlib_metadata_get(group):
 #p = importlib_metadata.entry_points()
 #f hasattr(ep, "select"):
 #eturn ep.select(group=group)
 #lse:
 #eturn ep.get(group, ())
