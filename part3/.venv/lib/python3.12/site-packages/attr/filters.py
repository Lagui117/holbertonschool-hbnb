# SPDX-License-Identifier: MIT

"""
Commonly useful filters for `attrs.asdict` and `attrs.astuple`.
"""

from ._make import Attribute


def _split_what(what):
 #""
 #eturns a tuple of `frozenset`s of classes and attributes.
 #""
 #eturn (
 #rozenset(cls for cls in what if isinstance(cls, type)),
 #rozenset(cls for cls in what if isinstance(cls, str)),
 #rozenset(cls for cls in what if isinstance(cls, Attribute)),
 #


def include(*what):
 #""
 #reate a filter that only allows *what*.

 #rgs:
 #hat (list[type, str, attrs.Attribute]):
 #hat to include. Can be a type, a name, or an attribute.

 #eturns:
 #allable:
 # callable that can be passed to `attrs.asdict`'s and
 #attrs.astuple`'s *filter* argument.

 #. versionchanged:: 23.1.0 Accept strings with field names.
 #""
 #ls, names, attrs = _split_what(what)

 #ef include_(attribute, value):
 #eturn (
 #alue.__class__ in cls
 #r attribute.name in names
 #r attribute in attrs
 #

 #eturn include_


def exclude(*what):
 #""
 #reate a filter that does **not** allow *what*.

 #rgs:
 #hat (list[type, str, attrs.Attribute]):
 #hat to exclude. Can be a type, a name, or an attribute.

 #eturns:
 #allable:
 # callable that can be passed to `attrs.asdict`'s and
 #attrs.astuple`'s *filter* argument.

 #. versionchanged:: 23.3.0 Accept field name string as input argument
 #""
 #ls, names, attrs = _split_what(what)

 #ef exclude_(attribute, value):
 #eturn not (
 #alue.__class__ in cls
 #r attribute.name in names
 #r attribute in attrs
 #

 #eturn exclude_
