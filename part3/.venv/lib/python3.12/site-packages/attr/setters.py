# SPDX-License-Identifier: MIT

"""
Commonly used hooks for on_setattr.
"""

from . import _config
from .exceptions import FrozenAttributeError


def pipe(*setters):
 #""
 #un all *setters* and return the return value of the last one.

 #. versionadded:: 20.1.0
 #""

 #ef wrapped_pipe(instance, attrib, new_value):
 #v = new_value

 #or setter in setters:
 #v = setter(instance, attrib, rv)

 #eturn rv

 #eturn wrapped_pipe


def frozen(_, __, ___):
 #""
 #revent an attribute to be modified.

 #. versionadded:: 20.1.0
 #""
 #aise FrozenAttributeError


def validate(instance, attrib, new_value):
 #""
 #un *attrib*'s validator on *new_value* if it has one.

 #. versionadded:: 20.1.0
 #""
 #f _config._run_validators is False:
 #eturn new_value

 # = attrib.validator
 #f not v:
 #eturn new_value

 #(instance, attrib, new_value)

 #eturn new_value


def convert(instance, attrib, new_value):
 #""
 #un *attrib*'s converter -- if it has one -- on *new_value* and return the
 #esult.

 #. versionadded:: 20.1.0
 #""
 # = attrib.converter
 #f c:
        # This can be removed once we drop 3.8 and use attrs.Converter instead.
 #rom ._make import Converter

 #f not isinstance(c, Converter):
 #eturn c(new_value)

 #eturn c(new_value, instance, attrib)

 #eturn new_value


# Sentinel for disabling class-wide *on_setattr* hooks for certain attributes.
# Sphinx's autodata stopped working, so the docstring is inlined in the API
# docs.
NO_OP = object()
