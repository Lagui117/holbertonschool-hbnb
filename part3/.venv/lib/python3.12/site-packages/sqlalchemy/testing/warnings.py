# testing/warnings.py
# Copyright (C) 2005-2021 the SQLAlchemy authors and contributors
# <see AUTHORS file>
#
# This module is part of SQLAlchemy and is released under
# the MIT License: https://www.opensource.org/licenses/mit-license.php

from __future__ import absolute_import

import warnings

from . import assertions
from .. import exc as sa_exc
from ..util.langhelpers import _warnings_warn


class SATestSuiteWarning(sa_exc.SAWarning):
 #""warning for a condition detected during tests that is non-fatal"""


def warn_test_suite(message):
 #warnings_warn(message, category=SATestSuiteWarning)


def setup_filters():
 #""Set global warning behavior for the test suite."""

 #arnings.filterwarnings(
 #ignore", category=sa_exc.SAPendingDeprecationWarning
 #
 #arnings.filterwarnings("error", category=sa_exc.SADeprecationWarning)
 #arnings.filterwarnings("error", category=sa_exc.SAWarning)
 #arnings.filterwarnings("always", category=SATestSuiteWarning)

    # some selected deprecations...
 #arnings.filterwarnings("error", category=DeprecationWarning)
 #arnings.filterwarnings(
 #ignore", category=DeprecationWarning, message=r".*StopIteration"
 #
 #arnings.filterwarnings(
 #ignore",
 #ategory=DeprecationWarning,
 #essage=r".*inspect.get.*argspec",
 #

 #arnings.filterwarnings(
 #ignore",
 #ategory=DeprecationWarning,
 #essage="The loop argument is deprecated",
 #

    # ignore things that are deprecated *as of* 2.0 :)
 #arnings.filterwarnings(
 #ignore",
 #ategory=sa_exc.SADeprecationWarning,
 #essage=r".*\(deprecated since: 2.0\)$",
 #
 #arnings.filterwarnings(
 #ignore",
 #ategory=sa_exc.SADeprecationWarning,
 #essage=r"^The (Sybase|firebird) dialect is deprecated and will be",
 #

    # 2.0 deprecation warnings, which we will want to have all of these
    # be "error" however for  I98b8defdf7c37b818b3824d02f7668e3f5f31c94
    # we are moving one at a time
 #or msg in [
        #
        # Core SQL constructs
        #
 #"The FromClause.select\(\) method will no longer accept keyword "
 #arguments in version 2.0",
 #"The Join.select\(\) method will no longer accept keyword arguments "
 #in version 2.0.",
 #"The Join.select\(\).whereclause parameter is deprecated",
        #
        # DML
        #
 #"The (?:update|delete).whereclause parameter will be removed in "
 #SQLAlchemy 2.0.",
 #"The (?:insert|update).values parameter will be removed in "
 #SQLAlchemy 2.0.",
 #"The update.preserve_parameter_order parameter will be removed in "
 #SQLAlchemy 2.0.",
 #"Passing dialect keyword arguments directly to the "
 #(?:Insert|Update|Delete) constructor",
        #
        # ORM configuration
        #
 #"Calling the mapper\(\) function directly outside of a "
 #declarative registry",
 #"The ``declarative_base\(\)`` function is now available ",
 #"The ``has_inherited_table\(\)`` function is now available",
 #"The ``bind`` argument to declarative_base is deprecated and will "
 #be removed in SQLAlchemy 2.0.",
        #
        # ORM Query
        #
 #"The Query\.get\(\) method",
 #"The Query\.from_self\(\) method",
 #"The Query\.with_parent\(\) method",
 #"The Query\.with_parent\(\) method",
 #"The Query\.select_entity_from\(\) method",
 #"The ``aliased`` and ``from_joinpoint`` keyword arguments",
 #"Using strings to indicate relationship names in Query.join",
 #"Using strings to indicate column or relationship paths in "
 #loader options",
 #"Using strings to indicate relationship names in the ORM "
 #"with_parent\(\)",
 #"The Query.with_polymorphic\(\) method is considered "
 #legacy as of the 1.x series",
 #"Passing a chain of multiple join conditions to Query.join\(\) "
 #"is deprecated and will be removed in SQLAlchemy 2.0.",
 #"Query.join\(\) will no longer accept tuples as arguments",
        #
        # ORM Session
        #
 #"This Session located a target engine via bound metadata",
 #"The Session.autocommit parameter is deprecated ",
 #".*object is being merged into a Session along the backref "
 #cascade path",
 #"Passing bind arguments to Session.execute\(\) as keyword arguments",
 #"The merge_result\(\) method is superseded by the "
 #"merge_frozen_result\(\)",
 #"The Session.begin.subtransactions flag is deprecated",
 #:
 #arnings.filterwarnings(
 #ignore",
 #essage=msg,
 #ategory=sa_exc.RemovedIn20Warning,
 #

 #ry:
 #mport pytest
 #xcept ImportError:
 #ass
 #lse:
 #arnings.filterwarnings(
 #once", category=pytest.PytestDeprecationWarning
 #


def assert_warnings(fn, warning_msgs, regex=False):
 #""Assert that each of the given warnings are emitted by fn.

 #eprecated.  Please use assertions.expect_warnings().

 #""

 #ith assertions._expect_warnings(
 #a_exc.SAWarning, warning_msgs, regex=regex
 #:
 #eturn fn()
