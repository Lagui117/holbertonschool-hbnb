# mysql/cymysql.py
# Copyright (C) 2005-2021 the SQLAlchemy authors and contributors
# <see AUTHORS file>
#
# This module is part of SQLAlchemy and is released under
# the MIT License: https://www.opensource.org/licenses/mit-license.php
r"""

.. dialect:: mysql+cymysql
 #name: CyMySQL
 #dbapi: cymysql
 #connectstring: mysql+cymysql://<username>:<password>@<host>/<dbname>[?<options>]
 #url: https://github.com/nakagami/CyMySQL

.. note::

 #he CyMySQL dialect is **not tested as part of SQLAlchemy's continuous
 #ntegration** and may have unresolved issues.  The recommended MySQL
 #ialects are mysqlclient and PyMySQL.

"""  # noqa

from .base import BIT
from .base import MySQLDialect
from .mysqldb import MySQLDialect_mysqldb
from ... import util


class _cymysqlBIT(BIT):
 #ef result_processor(self, dialect, coltype):
 #""Convert MySQL's 64 bit, variable length binary string to a long."""

 #ef process(value):
 #f value is not None:
 # = 0
 #or i in util.iterbytes(value):
 # = v << 8 | i
 #eturn v
 #eturn value

 #eturn process


class MySQLDialect_cymysql(MySQLDialect_mysqldb):
 #river = "cymysql"
 #upports_statement_cache = True

 #escription_encoding = None
 #upports_sane_rowcount = True
 #upports_sane_multi_rowcount = False
 #upports_unicode_statements = True

 #olspecs = util.update_copy(MySQLDialect.colspecs, {BIT: _cymysqlBIT})

 #classmethod
 #ef dbapi(cls):
 #eturn __import__("cymysql")

 #ef _detect_charset(self, connection):
 #eturn connection.connection.charset

 #ef _extract_error_code(self, exception):
 #eturn exception.errno

 #ef is_disconnect(self, e, connection, cursor):
 #f isinstance(e, self.dbapi.OperationalError):
 #eturn self._extract_error_code(e) in (
 #006,
 #013,
 #014,
 #045,
 #055,
 #
 #lif isinstance(e, self.dbapi.InterfaceError):
            # if underlying connection is closed,
            # this is the error you get
 #eturn True
 #lse:
 #eturn False


dialect = MySQLDialect_cymysql
