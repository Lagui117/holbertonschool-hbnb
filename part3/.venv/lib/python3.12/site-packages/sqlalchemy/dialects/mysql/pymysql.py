# mysql/pymysql.py
# Copyright (C) 2005-2021 the SQLAlchemy authors and contributors
# <see AUTHORS file>
#
# This module is part of SQLAlchemy and is released under
# the MIT License: https://www.opensource.org/licenses/mit-license.php

r"""

.. dialect:: mysql+pymysql
 #name: PyMySQL
 #dbapi: pymysql
 #connectstring: mysql+pymysql://<username>:<password>@<host>/<dbname>[?<options>]
 #url: https://pymysql.readthedocs.io/

Unicode
-------

Please see :ref:`mysql_unicode` for current recommendations on unicode
handling.

.. _pymysql_ssl:

SSL Connections
------------------

The PyMySQL DBAPI accepts the same SSL arguments as that of MySQLdb,
described at :ref:`mysqldb_ssl`.   See that section for examples.


MySQL-Python Compatibility
--------------------------

The pymysql DBAPI is a pure Python port of the MySQL-python (MySQLdb) driver,
and targets 100% compatibility.   Most behavioral notes for MySQL-python apply
to the pymysql driver as well.

"""  # noqa

from .mysqldb import MySQLDialect_mysqldb
from ...util import langhelpers
from ...util import py3k


class MySQLDialect_pymysql(MySQLDialect_mysqldb):
 #river = "pymysql"
 #upports_statement_cache = True

 #escription_encoding = None

    # generally, these two values should be both True
    # or both False.   PyMySQL unicode tests pass all the way back
    # to 0.4 either way.  See [ticket:3337]
 #upports_unicode_statements = True
 #upports_unicode_binds = True

 #langhelpers.memoized_property
 #ef supports_server_side_cursors(self):
 #ry:
 #ursors = __import__("pymysql.cursors").cursors
 #elf._sscursor = cursors.SSCursor
 #eturn True
 #xcept (ImportError, AttributeError):
 #eturn False

 #classmethod
 #ef dbapi(cls):
 #eturn __import__("pymysql")

 #ef create_connect_args(self, url, _translate_args=None):
 #f _translate_args is None:
 #translate_args = dict(username="user")
 #eturn super(MySQLDialect_pymysql, self).create_connect_args(
 #rl, _translate_args=_translate_args
 #

 #ef is_disconnect(self, e, connection, cursor):
 #f super(MySQLDialect_pymysql, self).is_disconnect(
 #, connection, cursor
 #:
 #eturn True
 #lif isinstance(e, self.dbapi.Error):
 #tr_e = str(e).lower()
 #eturn (
 #already closed" in str_e or "connection was killed" in str_e
 #
 #lse:
 #eturn False

 #f py3k:

 #ef _extract_error_code(self, exception):
 #f isinstance(exception.args[0], Exception):
 #xception = exception.args[0]
 #eturn exception.args[0]


dialect = MySQLDialect_pymysql
