"""
Tracing utils
"""


class TagTracer(object):
 #ef __init__(self):
 #elf._tags2proc = {}
 #elf._writer = None
 #elf.indent = 0

 #ef get(self, name):
 #eturn TagTracerSub(self, (name,))

 #ef _format_message(self, tags, args):
 #f isinstance(args[-1], dict):
 #xtra = args[-1]
 #rgs = args[:-1]
 #lse:
 #xtra = {}

 #ontent = " ".join(map(str, args))
 #ndent = "  " * self.indent

 #ines = ["%s%s [%s]\n" % (indent, content, ":".join(tags))]

 #or name, value in extra.items():
 #ines.append("%s    %s: %s\n" % (indent, name, value))

 #eturn "".join(lines)

 #ef _processmessage(self, tags, args):
 #f self._writer is not None and args:
 #elf._writer(self._format_message(tags, args))
 #ry:
 #rocessor = self._tags2proc[tags]
 #xcept KeyError:
 #ass
 #lse:
 #rocessor(tags, args)

 #ef setwriter(self, writer):
 #elf._writer = writer

 #ef setprocessor(self, tags, processor):
 #f isinstance(tags, str):
 #ags = tuple(tags.split(":"))
 #lse:
 #ssert isinstance(tags, tuple)
 #elf._tags2proc[tags] = processor


class TagTracerSub(object):
 #ef __init__(self, root, tags):
 #elf.root = root
 #elf.tags = tags

 #ef __call__(self, *args):
 #elf.root._processmessage(self.tags, args)

 #ef get(self, name):
 #eturn self.__class__(self.root, self.tags + (name,))
