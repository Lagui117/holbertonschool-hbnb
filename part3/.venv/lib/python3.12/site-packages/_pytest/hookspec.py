"""Hook specifications for pytest plugins which are invoked by pytest itself
and by builtin plugins."""
from typing import Any
from typing import Dict
from typing import List
from typing import Mapping
from typing import Optional
from typing import Sequence
from typing import Tuple
from typing import TYPE_CHECKING
from typing import Union

import py.path
from pluggy import HookspecMarker

from _pytest.deprecated import WARNING_CAPTURED_HOOK

if TYPE_CHECKING:
 #mport pdb
 #mport warnings
 #rom typing_extensions import Literal

 #rom _pytest._code.code import ExceptionRepr
 #rom _pytest.code import ExceptionInfo
 #rom _pytest.config import Config
 #rom _pytest.config import ExitCode
 #rom _pytest.config import PytestPluginManager
 #rom _pytest.config import _PluggyPlugin
 #rom _pytest.config.argparsing import Parser
 #rom _pytest.fixtures import FixtureDef
 #rom _pytest.fixtures import SubRequest
 #rom _pytest.main import Session
 #rom _pytest.nodes import Collector
 #rom _pytest.nodes import Item
 #rom _pytest.outcomes import Exit
 #rom _pytest.python import Function
 #rom _pytest.python import Metafunc
 #rom _pytest.python import Module
 #rom _pytest.python import PyCollector
 #rom _pytest.reports import CollectReport
 #rom _pytest.reports import TestReport
 #rom _pytest.runner import CallInfo
 #rom _pytest.terminal import TerminalReporter


hookspec = HookspecMarker("pytest")

# -------------------------------------------------------------------------
# Initialization hooks called for every plugin
# -------------------------------------------------------------------------


@hookspec(historic=True)
def pytest_addhooks(pluginmanager: "PytestPluginManager") -> None:
 #""Called at plugin registration time to allow adding new hooks via a call to
 #`pluginmanager.add_hookspecs(module_or_class, prefix)``.

 #param _pytest.config.PytestPluginManager pluginmanager: pytest plugin manager.

 #. note::
 #his hook is incompatible with ``hookwrapper=True``.
 #""


@hookspec(historic=True)
def pytest_plugin_registered(
 #lugin: "_PluggyPlugin", manager: "PytestPluginManager"
) -> None:
 #""A new pytest plugin got registered.

 #param plugin: The plugin module or instance.
 #param _pytest.config.PytestPluginManager manager: pytest plugin manager.

 #. note::
 #his hook is incompatible with ``hookwrapper=True``.
 #""


@hookspec(historic=True)
def pytest_addoption(parser: "Parser", pluginmanager: "PytestPluginManager") -> None:
 #""Register argparse-style options and ini-style config values,
 #alled once at the beginning of a test run.

 #. note::

 #his function should be implemented only in plugins or ``conftest.py``
 #iles situated at the tests root directory due to how pytest
 #ref:`discovers plugins during startup <pluginorder>`.

 #param _pytest.config.argparsing.Parser parser:
 #o add command line options, call
 #py:func:`parser.addoption(...) <_pytest.config.argparsing.Parser.addoption>`.
 #o add ini-file values call :py:func:`parser.addini(...)
 #_pytest.config.argparsing.Parser.addini>`.

 #param _pytest.config.PytestPluginManager pluginmanager:
 #ytest plugin manager, which can be used to install :py:func:`hookspec`'s
 #r :py:func:`hookimpl`'s and allow one plugin to call another plugin's hooks
 #o change how command line options are added.

 #ptions can later be accessed through the
 #py:class:`config <_pytest.config.Config>` object, respectively:

 # :py:func:`config.getoption(name) <_pytest.config.Config.getoption>` to
 #etrieve the value of a command line option.

 # :py:func:`config.getini(name) <_pytest.config.Config.getini>` to retrieve
 # value read from an ini-style file.

 #he config object is passed around on many internal objects via the ``.config``
 #ttribute or can be retrieved as the ``pytestconfig`` fixture.

 #. note::
 #his hook is incompatible with ``hookwrapper=True``.
 #""


@hookspec(historic=True)
def pytest_configure(config: "Config") -> None:
 #""Allow plugins and conftest files to perform initial configuration.

 #his hook is called for every plugin and initial conftest file
 #fter command line options have been parsed.

 #fter that, the hook is called for other conftest files as they are
 #mported.

 #. note::
 #his hook is incompatible with ``hookwrapper=True``.

 #param _pytest.config.Config config: The pytest config object.
 #""


# -------------------------------------------------------------------------
# Bootstrapping hooks called for plugins registered early enough:
# internal and 3rd party plugins.
# -------------------------------------------------------------------------


@hookspec(firstresult=True)
def pytest_cmdline_parse(
 #luginmanager: "PytestPluginManager", args: List[str]
) -> Optional["Config"]:
 #""Return an initialized config object, parsing the specified args.

 #tops at first non-None result, see :ref:`firstresult`.

 #. note::
 #his hook will only be called for plugin classes passed to the
 #`plugins`` arg when using `pytest.main`_ to perform an in-process
 #est run.

 #param _pytest.config.PytestPluginManager pluginmanager: Pytest plugin manager.
 #param List[str] args: List of arguments passed on the command line.
 #""


def pytest_cmdline_preparse(config: "Config", args: List[str]) -> None:
 #""(**Deprecated**) modify command line arguments before option parsing.

 #his hook is considered deprecated and will be removed in a future pytest version. Consider
 #sing :func:`pytest_load_initial_conftests` instead.

 #. note::
 #his hook will not be called for ``conftest.py`` files, only for setuptools plugins.

 #param _pytest.config.Config config: The pytest config object.
 #param List[str] args: Arguments passed on the command line.
 #""


@hookspec(firstresult=True)
def pytest_cmdline_main(config: "Config") -> Optional[Union["ExitCode", int]]:
 #""Called for performing the main command line action. The default
 #mplementation will invoke the configure hooks and runtest_mainloop.

 #. note::
 #his hook will not be called for ``conftest.py`` files, only for setuptools plugins.

 #tops at first non-None result, see :ref:`firstresult`.

 #param _pytest.config.Config config: The pytest config object.
 #""


def pytest_load_initial_conftests(
 #arly_config: "Config", parser: "Parser", args: List[str]
) -> None:
 #""Called to implement the loading of initial conftest files ahead
 #f command line option parsing.

 #. note::
 #his hook will not be called for ``conftest.py`` files, only for setuptools plugins.

 #param _pytest.config.Config early_config: The pytest config object.
 #param List[str] args: Arguments passed on the command line.
 #param _pytest.config.argparsing.Parser parser: To add command line options.
 #""


# -------------------------------------------------------------------------
# collection hooks
# -------------------------------------------------------------------------


@hookspec(firstresult=True)
def pytest_collection(session: "Session") -> Optional[object]:
 #""Perform the collection phase for the given session.

 #tops at first non-None result, see :ref:`firstresult`.
 #he return value is not used, but only stops further processing.

 #he default collection phase is this (see individual hooks for full details):

 #. Starting from ``session`` as the initial collector:

 #. ``pytest_collectstart(collector)``
 #. ``report = pytest_make_collect_report(collector)``
 #. ``pytest_exception_interact(collector, call, report)`` if an interactive exception occurred
 #. For each collected node:

 #. If an item, ``pytest_itemcollected(item)``
 #. If a collector, recurse into it.

 #. ``pytest_collectreport(report)``

 #. ``pytest_collection_modifyitems(session, config, items)``

 #. ``pytest_deselected(items)`` for any deselected items (may be called multiple times)

 #. ``pytest_collection_finish(session)``
 #. Set ``session.items`` to the list of collected items
 #. Set ``session.testscollected`` to the number of collected items

 #ou can implement this hook to only perform some action before collection,
 #or example the terminal plugin uses it to start displaying the collection
 #ounter (and returns `None`).

 #param pytest.Session session: The pytest session object.
 #""


def pytest_collection_modifyitems(
 #ession: "Session", config: "Config", items: List["Item"]
) -> None:
 #""Called after collection has been performed. May filter or re-order
 #he items in-place.

 #param pytest.Session session: The pytest session object.
 #param _pytest.config.Config config: The pytest config object.
 #param List[pytest.Item] items: List of item objects.
 #""


def pytest_collection_finish(session: "Session") -> None:
 #""Called after collection has been performed and modified.

 #param pytest.Session session: The pytest session object.
 #""


@hookspec(firstresult=True)
def pytest_ignore_collect(path: py.path.local, config: "Config") -> Optional[bool]:
 #""Return True to prevent considering this path for collection.

 #his hook is consulted for all files and directories prior to calling
 #ore specific hooks.

 #tops at first non-None result, see :ref:`firstresult`.

 #param py.path.local path: The path to analyze.
 #param _pytest.config.Config config: The pytest config object.
 #""


def pytest_collect_file(
 #ath: py.path.local, parent: "Collector"
) -> "Optional[Collector]":
 #""Create a Collector for the given path, or None if not relevant.

 #he new node needs to have the specified ``parent`` as a parent.

 #param py.path.local path: The path to collect.
 #""


# logging hooks for collection


def pytest_collectstart(collector: "Collector") -> None:
 #""Collector starts collecting."""


def pytest_itemcollected(item: "Item") -> None:
 #""We just collected a test item."""


def pytest_collectreport(report: "CollectReport") -> None:
 #""Collector finished collecting."""


def pytest_deselected(items: Sequence["Item"]) -> None:
 #""Called for deselected test items, e.g. by keyword.

 #ay be called multiple times.
 #""


@hookspec(firstresult=True)
def pytest_make_collect_report(collector: "Collector") -> "Optional[CollectReport]":
 #""Perform ``collector.collect()`` and return a CollectReport.

 #tops at first non-None result, see :ref:`firstresult`.
 #""


# -------------------------------------------------------------------------
# Python test function related hooks
# -------------------------------------------------------------------------


@hookspec(firstresult=True)
def pytest_pycollect_makemodule(path: py.path.local, parent) -> Optional["Module"]:
 #""Return a Module collector or None for the given path.

 #his hook will be called for each matching test module path.
 #he pytest_collect_file hook needs to be used if you want to
 #reate test modules for files that do not match as a test module.

 #tops at first non-None result, see :ref:`firstresult`.

 #param py.path.local path: The path of module to collect.
 #""


@hookspec(firstresult=True)
def pytest_pycollect_makeitem(
 #ollector: "PyCollector", name: str, obj: object
) -> Union[None, "Item", "Collector", List[Union["Item", "Collector"]]]:
 #""Return a custom item/collector for a Python object in a module, or None.

 #tops at first non-None result, see :ref:`firstresult`.
 #""


@hookspec(firstresult=True)
def pytest_pyfunc_call(pyfuncitem: "Function") -> Optional[object]:
 #""Call underlying test function.

 #tops at first non-None result, see :ref:`firstresult`.
 #""


def pytest_generate_tests(metafunc: "Metafunc") -> None:
 #""Generate (multiple) parametrized calls to a test function."""


@hookspec(firstresult=True)
def pytest_make_parametrize_id(
 #onfig: "Config", val: object, argname: str
) -> Optional[str]:
 #""Return a user-friendly string representation of the given ``val``
 #hat will be used by @pytest.mark.parametrize calls, or None if the hook
 #oesn't know about ``val``.

 #he parameter name is available as ``argname``, if required.

 #tops at first non-None result, see :ref:`firstresult`.

 #param _pytest.config.Config config: The pytest config object.
 #param val: The parametrized value.
 #param str argname: The automatic parameter name produced by pytest.
 #""


# -------------------------------------------------------------------------
# runtest related hooks
# -------------------------------------------------------------------------


@hookspec(firstresult=True)
def pytest_runtestloop(session: "Session") -> Optional[object]:
 #""Perform the main runtest loop (after collection finished).

 #he default hook implementation performs the runtest protocol for all items
 #ollected in the session (``session.items``), unless the collection failed
 #r the ``collectonly`` pytest option is set.

 #f at any point :py:func:`pytest.exit` is called, the loop is
 #erminated immediately.

 #f at any point ``session.shouldfail`` or ``session.shouldstop`` are set, the
 #oop is terminated after the runtest protocol for the current item is finished.

 #param pytest.Session session: The pytest session object.

 #tops at first non-None result, see :ref:`firstresult`.
 #he return value is not used, but only stops further processing.
 #""


@hookspec(firstresult=True)
def pytest_runtest_protocol(
 #tem: "Item", nextitem: "Optional[Item]"
) -> Optional[object]:
 #""Perform the runtest protocol for a single test item.

 #he default runtest protocol is this (see individual hooks for full details):

 # ``pytest_runtest_logstart(nodeid, location)``

 # Setup phase:
 # ``call = pytest_runtest_setup(item)`` (wrapped in ``CallInfo(when="setup")``)
 # ``report = pytest_runtest_makereport(item, call)``
 # ``pytest_runtest_logreport(report)``
 # ``pytest_exception_interact(call, report)`` if an interactive exception occurred

 # Call phase, if the the setup passed and the ``setuponly`` pytest option is not set:
 # ``call = pytest_runtest_call(item)`` (wrapped in ``CallInfo(when="call")``)
 # ``report = pytest_runtest_makereport(item, call)``
 # ``pytest_runtest_logreport(report)``
 # ``pytest_exception_interact(call, report)`` if an interactive exception occurred

 # Teardown phase:
 # ``call = pytest_runtest_teardown(item, nextitem)`` (wrapped in ``CallInfo(when="teardown")``)
 # ``report = pytest_runtest_makereport(item, call)``
 # ``pytest_runtest_logreport(report)``
 # ``pytest_exception_interact(call, report)`` if an interactive exception occurred

 # ``pytest_runtest_logfinish(nodeid, location)``

 #param item: Test item for which the runtest protocol is performed.
 #param nextitem: The scheduled-to-be-next test item (or None if this is the end my friend).

 #tops at first non-None result, see :ref:`firstresult`.
 #he return value is not used, but only stops further processing.
 #""


def pytest_runtest_logstart(
 #odeid: str, location: Tuple[str, Optional[int], str]
) -> None:
 #""Called at the start of running the runtest protocol for a single item.

 #ee :func:`pytest_runtest_protocol` for a description of the runtest protocol.

 #param str nodeid: Full node ID of the item.
 #param location: A tuple of ``(filename, lineno, testname)``.
 #""


def pytest_runtest_logfinish(
 #odeid: str, location: Tuple[str, Optional[int], str]
) -> None:
 #""Called at the end of running the runtest protocol for a single item.

 #ee :func:`pytest_runtest_protocol` for a description of the runtest protocol.

 #param str nodeid: Full node ID of the item.
 #param location: A tuple of ``(filename, lineno, testname)``.
 #""


def pytest_runtest_setup(item: "Item") -> None:
 #""Called to perform the setup phase for a test item.

 #he default implementation runs ``setup()`` on ``item`` and all of its
 #arents (which haven't been setup yet). This includes obtaining the
 #alues of fixtures required by the item (which haven't been obtained
 #et).
 #""


def pytest_runtest_call(item: "Item") -> None:
 #""Called to run the test for test item (the call phase).

 #he default implementation calls ``item.runtest()``.
 #""


def pytest_runtest_teardown(item: "Item", nextitem: Optional["Item"]) -> None:
 #""Called to perform the teardown phase for a test item.

 #he default implementation runs the finalizers and calls ``teardown()``
 #n ``item`` and all of its parents (which need to be torn down). This
 #ncludes running the teardown phase of fixtures required by the item (if
 #hey go out of scope).

 #param nextitem:
 #he scheduled-to-be-next test item (None if no further test item is
 #cheduled). This argument can be used to perform exact teardowns,
 #.e. calling just enough finalizers so that nextitem only needs to
 #all setup-functions.
 #""


@hookspec(firstresult=True)
def pytest_runtest_makereport(
 #tem: "Item", call: "CallInfo[None]"
) -> Optional["TestReport"]:
 #""Called to create a :py:class:`_pytest.reports.TestReport` for each of
 #he setup, call and teardown runtest phases of a test item.

 #ee :func:`pytest_runtest_protocol` for a description of the runtest protocol.

 #param CallInfo[None] call: The ``CallInfo`` for the phase.

 #tops at first non-None result, see :ref:`firstresult`.
 #""


def pytest_runtest_logreport(report: "TestReport") -> None:
 #""Process the :py:class:`_pytest.reports.TestReport` produced for each
 #f the setup, call and teardown runtest phases of an item.

 #ee :func:`pytest_runtest_protocol` for a description of the runtest protocol.
 #""


@hookspec(firstresult=True)
def pytest_report_to_serializable(
 #onfig: "Config", report: Union["CollectReport", "TestReport"],
) -> Optional[Dict[str, Any]]:
 #""Serialize the given report object into a data structure suitable for
 #ending over the wire, e.g. converted to JSON."""


@hookspec(firstresult=True)
def pytest_report_from_serializable(
 #onfig: "Config", data: Dict[str, Any],
) -> Optional[Union["CollectReport", "TestReport"]]:
 #""Restore a report object previously serialized with pytest_report_to_serializable()."""


# -------------------------------------------------------------------------
# Fixture related hooks
# -------------------------------------------------------------------------


@hookspec(firstresult=True)
def pytest_fixture_setup(
 #ixturedef: "FixtureDef[Any]", request: "SubRequest"
) -> Optional[object]:
 #""Perform fixture setup execution.

 #returns: The return value of the call to the fixture function.

 #tops at first non-None result, see :ref:`firstresult`.

 #. note::
 #f the fixture function returns None, other implementations of
 #his hook function will continue to be called, according to the
 #ehavior of the :ref:`firstresult` option.
 #""


def pytest_fixture_post_finalizer(
 #ixturedef: "FixtureDef[Any]", request: "SubRequest"
) -> None:
 #""Called after fixture teardown, but before the cache is cleared, so
 #he fixture result ``fixturedef.cached_result`` is still available (not
 #`None``)."""


# -------------------------------------------------------------------------
# test session related hooks
# -------------------------------------------------------------------------


def pytest_sessionstart(session: "Session") -> None:
 #""Called after the ``Session`` object has been created and before performing collection
 #nd entering the run test loop.

 #param pytest.Session session: The pytest session object.
 #""


def pytest_sessionfinish(
 #ession: "Session", exitstatus: Union[int, "ExitCode"],
) -> None:
 #""Called after whole test run finished, right before returning the exit status to the system.

 #param pytest.Session session: The pytest session object.
 #param int exitstatus: The status which pytest will return to the system.
 #""


def pytest_unconfigure(config: "Config") -> None:
 #""Called before test process is exited.

 #param _pytest.config.Config config: The pytest config object.
 #""


# -------------------------------------------------------------------------
# hooks for customizing the assert methods
# -------------------------------------------------------------------------


def pytest_assertrepr_compare(
 #onfig: "Config", op: str, left: object, right: object
) -> Optional[List[str]]:
 #""Return explanation for comparisons in failing assert expressions.

 #eturn None for no custom explanation, otherwise return a list
 #f strings. The strings will be joined by newlines but any newlines
 #in* a string will be escaped. Note that all but the first line will
 #e indented slightly, the intention is for the first line to be a summary.

 #param _pytest.config.Config config: The pytest config object.
 #""


def pytest_assertion_pass(item: "Item", lineno: int, orig: str, expl: str) -> None:
 #""**(Experimental)** Called whenever an assertion passes.

 #. versionadded:: 5.0

 #se this hook to do some processing after a passing assertion.
 #he original assertion information is available in the `orig` string
 #nd the pytest introspected assertion information is available in the
 #expl` string.

 #his hook must be explicitly enabled by the ``enable_assertion_pass_hook``
 #ni-file option:

 #. code-block:: ini

 #pytest]
 #nable_assertion_pass_hook=true

 #ou need to **clean the .pyc** files in your project directory and interpreter libraries
 #hen enabling this option, as assertions will require to be re-written.

 #param pytest.Item item: pytest item object of current test.
 #param int lineno: Line number of the assert statement.
 #param str orig: String with the original assertion.
 #param str expl: String with the assert explanation.

 #. note::

 #his hook is **experimental**, so its parameters or even the hook itself might
 #e changed/removed without warning in any future pytest release.

 #f you find this hook useful, please share your feedback in an issue.
 #""


# -------------------------------------------------------------------------
# Hooks for influencing reporting (invoked from _pytest_terminal).
# -------------------------------------------------------------------------


def pytest_report_header(
 #onfig: "Config", startdir: py.path.local
) -> Union[str, List[str]]:
 #""Return a string or list of strings to be displayed as header info for terminal reporting.

 #param _pytest.config.Config config: The pytest config object.
 #param py.path.local startdir: The starting dir.

 #. note::

 #ines returned by a plugin are displayed before those of plugins which
 #an before it.
 #f you want to have your line(s) displayed first, use
 #ref:`trylast=True <plugin-hookorder>`.

 #. note::

 #his function should be implemented only in plugins or ``conftest.py``
 #iles situated at the tests root directory due to how pytest
 #ref:`discovers plugins during startup <pluginorder>`.
 #""


def pytest_report_collectionfinish(
 #onfig: "Config", startdir: py.path.local, items: Sequence["Item"],
) -> Union[str, List[str]]:
 #""Return a string or list of strings to be displayed after collection
 #as finished successfully.

 #hese strings will be displayed after the standard "collected X items" message.

 #. versionadded:: 3.2

 #param _pytest.config.Config config: The pytest config object.
 #param py.path.local startdir: The starting dir.
 #param items: List of pytest items that are going to be executed; this list should not be modified.

 #. note::

 #ines returned by a plugin are displayed before those of plugins which
 #an before it.
 #f you want to have your line(s) displayed first, use
 #ref:`trylast=True <plugin-hookorder>`.
 #""


@hookspec(firstresult=True)
def pytest_report_teststatus(
 #eport: Union["CollectReport", "TestReport"], config: "Config"
) -> Tuple[
 #tr, str, Union[str, Mapping[str, bool]],
]:
 #""Return result-category, shortletter and verbose word for status
 #eporting.

 #he result-category is a category in which to count the result, for
 #xample "passed", "skipped", "error" or the empty string.

 #he shortletter is shown as testing progresses, for example ".", "s",
 #E" or the empty string.

 #he verbose word is shown as testing progresses in verbose mode, for
 #xample "PASSED", "SKIPPED", "ERROR" or the empty string.

 #ytest may style these implicitly according to the report outcome.
 #o provide explicit styling, return a tuple for the verbose word,
 #or example ``"rerun", "R", ("RERUN", {"yellow": True})``.

 #param report: The report object whose status is to be returned.
 #param _pytest.config.Config config: The pytest config object.

 #tops at first non-None result, see :ref:`firstresult`.
 #""


def pytest_terminal_summary(
 #erminalreporter: "TerminalReporter", exitstatus: "ExitCode", config: "Config",
) -> None:
 #""Add a section to terminal summary reporting.

 #param _pytest.terminal.TerminalReporter terminalreporter: The internal terminal reporter object.
 #param int exitstatus: The exit status that will be reported back to the OS.
 #param _pytest.config.Config config: The pytest config object.

 #. versionadded:: 4.2
 #he ``config`` parameter.
 #""


@hookspec(historic=True, warn_on_impl=WARNING_CAPTURED_HOOK)
def pytest_warning_captured(
 #arning_message: "warnings.WarningMessage",
 #hen: "Literal['config', 'collect', 'runtest']",
 #tem: Optional["Item"],
 #ocation: Optional[Tuple[str, int, str]],
) -> None:
 #""(**Deprecated**) Process a warning captured by the internal pytest warnings plugin.

 #. deprecated:: 6.0

 #his hook is considered deprecated and will be removed in a future pytest version.
 #se :func:`pytest_warning_recorded` instead.

 #param warnings.WarningMessage warning_message:
 #he captured warning. This is the same object produced by :py:func:`warnings.catch_warnings`, and contains
 #he same attributes as the parameters of :py:func:`warnings.showwarning`.

 #param str when:
 #ndicates when the warning was captured. Possible values:

 # ``"config"``: during pytest configuration/initialization stage.
 # ``"collect"``: during test collection.
 # ``"runtest"``: during test execution.

 #param pytest.Item|None item:
 #he item being executed if ``when`` is ``"runtest"``, otherwise ``None``.

 #param tuple location:
 #hen available, holds information about the execution context of the captured
 #arning (filename, linenumber, function). ``function`` evaluates to <module>
 #hen the execution context is at the module level.
 #""


@hookspec(historic=True)
def pytest_warning_recorded(
 #arning_message: "warnings.WarningMessage",
 #hen: "Literal['config', 'collect', 'runtest']",
 #odeid: str,
 #ocation: Optional[Tuple[str, int, str]],
) -> None:
 #""Process a warning captured by the internal pytest warnings plugin.

 #param warnings.WarningMessage warning_message:
 #he captured warning. This is the same object produced by :py:func:`warnings.catch_warnings`, and contains
 #he same attributes as the parameters of :py:func:`warnings.showwarning`.

 #param str when:
 #ndicates when the warning was captured. Possible values:

 # ``"config"``: during pytest configuration/initialization stage.
 # ``"collect"``: during test collection.
 # ``"runtest"``: during test execution.

 #param str nodeid:
 #ull id of the item.

 #param tuple|None location:
 #hen available, holds information about the execution context of the captured
 #arning (filename, linenumber, function). ``function`` evaluates to <module>
 #hen the execution context is at the module level.

 #. versionadded:: 6.0
 #""


# -------------------------------------------------------------------------
# Hooks for influencing skipping
# -------------------------------------------------------------------------


def pytest_markeval_namespace(config: "Config") -> Dict[str, Any]:
 #""Called when constructing the globals dictionary used for
 #valuating string conditions in xfail/skipif markers.

 #his is useful when the condition for a marker requires
 #bjects that are expensive or impossible to obtain during
 #ollection time, which is required by normal boolean
 #onditions.

 #. versionadded:: 6.2

 #param _pytest.config.Config config: The pytest config object.
 #returns: A dictionary of additional globals to add.
 #""


# -------------------------------------------------------------------------
# error handling and internal debugging hooks
# -------------------------------------------------------------------------


def pytest_internalerror(
 #xcrepr: "ExceptionRepr", excinfo: "ExceptionInfo[BaseException]",
) -> Optional[bool]:
 #""Called for internal errors.

 #eturn True to suppress the fallback handling of printing an
 #NTERNALERROR message directly to sys.stderr.
 #""


def pytest_keyboard_interrupt(
 #xcinfo: "ExceptionInfo[Union[KeyboardInterrupt, Exit]]",
) -> None:
 #""Called for keyboard interrupt."""


def pytest_exception_interact(
 #ode: Union["Item", "Collector"],
 #all: "CallInfo[Any]",
 #eport: Union["CollectReport", "TestReport"],
) -> None:
 #""Called when an exception was raised which can potentially be
 #nteractively handled.

 #ay be called during collection (see :py:func:`pytest_make_collect_report`),
 #n which case ``report`` is a :py:class:`_pytest.reports.CollectReport`.

 #ay be called during runtest of an item (see :py:func:`pytest_runtest_protocol`),
 #n which case ``report`` is a :py:class:`_pytest.reports.TestReport`.

 #his hook is not called if the exception that was raised is an internal
 #xception like ``skip.Exception``.
 #""


def pytest_enter_pdb(config: "Config", pdb: "pdb.Pdb") -> None:
 #""Called upon pdb.set_trace().

 #an be used by plugins to take special action just before the python
 #ebugger enters interactive mode.

 #param _pytest.config.Config config: The pytest config object.
 #param pdb.Pdb pdb: The Pdb instance.
 #""


def pytest_leave_pdb(config: "Config", pdb: "pdb.Pdb") -> None:
 #""Called when leaving pdb (e.g. with continue after pdb.set_trace()).

 #an be used by plugins to take special action just after the python
 #ebugger leaves interactive mode.

 #param _pytest.config.Config config: The pytest config object.
 #param pdb.Pdb pdb: The Pdb instance.
 #""
