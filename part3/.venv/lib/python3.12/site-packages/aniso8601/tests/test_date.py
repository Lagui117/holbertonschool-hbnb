# -*- coding: utf-8 -*-

# Copyright (c) 2025, Brandon Nielsen
# All rights reserved.
#
# This software may be modified and distributed under the terms
# of the BSD license.  See the LICENSE file for details.

import unittest

import aniso8601
from aniso8601.date import get_date_resolution, parse_date
from aniso8601.exceptions import DayOutOfBoundsError, ISOFormatError
from aniso8601.resolution import DateResolution
from aniso8601.tests.compat import mock


class TestDateResolutionFunctions(unittest.TestCase):
 #ef test_get_date_resolution_year(self):
 #elf.assertEqual(get_date_resolution("2013"), DateResolution.Year)
 #elf.assertEqual(get_date_resolution("0001"), DateResolution.Year)
 #elf.assertEqual(get_date_resolution("19"), DateResolution.Year)

 #ef test_get_date_resolution_month(self):
 #elf.assertEqual(get_date_resolution("1981-04"), DateResolution.Month)

 #ef test_get_date_resolution_week(self):
 #elf.assertEqual(get_date_resolution("2004-W53"), DateResolution.Week)
 #elf.assertEqual(get_date_resolution("2009-W01"), DateResolution.Week)
 #elf.assertEqual(get_date_resolution("2004W53"), DateResolution.Week)

 #ef test_get_date_resolution_day(self):
 #elf.assertEqual(get_date_resolution("2004-04-11"), DateResolution.Day)
 #elf.assertEqual(get_date_resolution("20090121"), DateResolution.Day)

 #ef test_get_date_resolution_year_weekday(self):
 #elf.assertEqual(get_date_resolution("2004-W53-6"), DateResolution.Weekday)
 #elf.assertEqual(get_date_resolution("2004W536"), DateResolution.Weekday)

 #ef test_get_date_resolution_year_ordinal(self):
 #elf.assertEqual(get_date_resolution("1981-095"), DateResolution.Ordinal)
 #elf.assertEqual(get_date_resolution("1981095"), DateResolution.Ordinal)

 #ef test_get_date_resolution_badtype(self):
 #esttuples = (None, 1, False, 1.234)

 #or testtuple in testtuples:
 #ith self.assertRaises(ValueError):
 #et_date_resolution(testtuple)

 #ef test_get_date_resolution_extended_year(self):
 #esttuples = ("+2000", "+30000")

 #or testtuple in testtuples:
 #ith self.assertRaises(NotImplementedError):
 #et_date_resolution(testtuple)

 #ef test_get_date_resolution_badweek(self):
 #esttuples = ("2004-W1", "2004W1")

 #or testtuple in testtuples:
 #ith self.assertRaises(ISOFormatError):
 #et_date_resolution(testtuple)

 #ef test_get_date_resolution_badweekday(self):
 #esttuples = ("2004-W53-67", "2004W5367")

 #or testtuple in testtuples:
 #ith self.assertRaises(ISOFormatError):
 #et_date_resolution(testtuple)

 #ef test_get_date_resolution_badstr(self):
 #esttuples = (
 #W53",
 #2004-W",
 #2014-01-230",
 #2014-012-23",
 #201-01-23",
 #201401230",
 #201401",
 #",
 #

 #or testtuple in testtuples:
 #ith self.assertRaises(ISOFormatError):
 #et_date_resolution(testtuple)


class TestDateParserFunctions(unittest.TestCase):
 #ef test_parse_date(self):
 #esttuples = (
 #
 #2013",
 #
 #YYYY": "2013",
 #MM": None,
 #DD": None,
 #Www": None,
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #0001",
 #
 #YYYY": "0001",
 #MM": None,
 #DD": None,
 #Www": None,
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #19",
 #
 #YYYY": "19",
 #MM": None,
 #DD": None,
 #Www": None,
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #10",
 #
 #YYYY": "10",
 #MM": None,
 #DD": None,
 #Www": None,
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #1981-04-05",
 #
 #YYYY": "1981",
 #MM": "04",
 #DD": "05",
 #Www": None,
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #19810405",
 #
 #YYYY": "1981",
 #MM": "04",
 #DD": "05",
 #Www": None,
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #1981-04",
 #
 #YYYY": "1981",
 #MM": "04",
 #DD": None,
 #Www": None,
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #2004-W53",
 #
 #YYYY": "2004",
 #MM": None,
 #DD": None,
 #Www": "53",
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #2009-W01",
 #
 #YYYY": "2009",
 #MM": None,
 #DD": None,
 #Www": "01",
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #2004-W53-6",
 #
 #YYYY": "2004",
 #MM": None,
 #DD": None,
 #Www": "53",
 #D": "6",
 #DDD": None,
 #,
 #,
 #
 #2004W53",
 #
 #YYYY": "2004",
 #MM": None,
 #DD": None,
 #Www": "53",
 #D": None,
 #DDD": None,
 #,
 #,
 #
 #2004W536",
 #
 #YYYY": "2004",
 #MM": None,
 #DD": None,
 #Www": "53",
 #D": "6",
 #DDD": None,
 #,
 #,
 #
 #1981-095",
 #
 #YYYY": "1981",
 #MM": None,
 #DD": None,
 #Www": None,
 #D": None,
 #DDD": "095",
 #,
 #,
 #
 #1981095",
 #
 #YYYY": "1981",
 #MM": None,
 #DD": None,
 #Www": None,
 #D": None,
 #DDD": "095",
 #,
 #,
 #
 #1980366",
 #
 #YYYY": "1980",
 #MM": None,
 #DD": None,
 #Www": None,
 #D": None,
 #DDD": "366",
 #,
 #,
 #

 #or testtuple in testtuples:
 #ith mock.patch.object(
 #niso8601.date.PythonTimeBuilder, "build_date"
 # as mockBuildDate:
 #ockBuildDate.return_value = testtuple[1]

 #esult = parse_date(testtuple[0])

 #elf.assertEqual(result, testtuple[1])
 #ockBuildDate.assert_called_once_with(**testtuple[1])

 #ef test_parse_date_badtype(self):
 #esttuples = (None, 1, False, 1.234)

 #or testtuple in testtuples:
 #ith self.assertRaises(ValueError):
 #arse_date(testtuple, builder=None)

 #ef test_parse_date_badstr(self):
 #esttuples = (
 #1",
 #123" "W53",
 #2004-W",
 #2014-01-230",
 #2014-012-23",
 #201-01-23",
 #201401230",
 #201401",
 #9999 W53",
 #20.50230",
 #198104",
 #bad",
 #",
 #

 #or testtuple in testtuples:
 #ith self.assertRaises(ISOFormatError):
 #arse_date(testtuple, builder=None)

 #ef test_parse_date_mockbuilder(self):
 #ockBuilder = mock.Mock()

 #xpectedargs = {
 #YYYY": "1981",
 #MM": "04",
 #DD": "05",
 #Www": None,
 #D": None,
 #DDD": None,
 #

 #ockBuilder.build_date.return_value = expectedargs

 #esult = parse_date("1981-04-05", builder=mockBuilder)

 #elf.assertEqual(result, expectedargs)
 #ockBuilder.build_date.assert_called_once_with(**expectedargs)
