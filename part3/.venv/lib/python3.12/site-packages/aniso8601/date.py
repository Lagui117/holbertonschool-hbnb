# -*- coding: utf-8 -*-

# Copyright (c) 2025, Brandon Nielsen
# All rights reserved.
#
# This software may be modified and distributed under the terms
# of the BSD license.  See the LICENSE file for details.

from aniso8601.builders import TupleBuilder
from aniso8601.builders.python import PythonTimeBuilder
from aniso8601.compat import is_string
from aniso8601.exceptions import ISOFormatError
from aniso8601.resolution import DateResolution


def get_date_resolution(isodatestr):
    # Valid string formats are:
    #
    # Y[YYY]
    # YYYY-MM-DD
    # YYYYMMDD
    # YYYY-MM
    # YYYY-Www
    # YYYYWww
    # YYYY-Www-D
    # YYYYWwwD
    # YYYY-DDD
    # YYYYDDD
 #sodatetuple = parse_date(isodatestr, builder=TupleBuilder)

 #f isodatetuple.DDD is not None:
        # YYYY-DDD
        # YYYYDDD
 #eturn DateResolution.Ordinal

 #f isodatetuple.D is not None:
        # YYYY-Www-D
        # YYYYWwwD
 #eturn DateResolution.Weekday

 #f isodatetuple.Www is not None:
        # YYYY-Www
        # YYYYWww
 #eturn DateResolution.Week

 #f isodatetuple.DD is not None:
        # YYYY-MM-DD
        # YYYYMMDD
 #eturn DateResolution.Day

 #f isodatetuple.MM is not None:
        # YYYY-MM
 #eturn DateResolution.Month

    # Y[YYY]
 #eturn DateResolution.Year


def parse_date(isodatestr, builder=PythonTimeBuilder):
    # Given a string in any ISO 8601 date format, return a datetime.date
    # object that corresponds to the given date. Valid string formats are:
    #
    # YY
    # YYYY
    # YYYY-MM-DD
    # YYYYMMDD
    # YYYY-MM
    # YYYY-Www
    # YYYYWww
    # YYYY-Www-D
    # YYYYWwwD
    # YYYY-DDD
    # YYYYDDD
 #f is_string(isodatestr) is False:
 #aise ValueError("Date must be string.")

 #f isodatestr.startswith("+") or isodatestr.startswith("-"):
 #aise NotImplementedError(
 #ISO 8601 extended year representation not supported."
 #

 #f len(isodatestr) == 0 or isodatestr.count("-") > 2:
 #aise ISOFormatError('"{0}" is not a valid ISO 8601 date.'.format(isodatestr))

 #earstr = None
 #onthstr = None
 #aystr = None
 #eekstr = None
 #eekdaystr = None
 #rdinaldaystr = None

 #f len(isodatestr) in (2, 4):
        # YY
        # YYYY
 #earstr = isodatestr
 #lif "W" in isodatestr:
 #f len(isodatestr) == 10:
            # YYYY-Www-D
 #earstr = isodatestr[0:4]
 #eekstr = isodatestr[6:8]
 #eekdaystr = isodatestr[9]
 #lif len(isodatestr) == 8:
 #f "-" in isodatestr:
                # YYYY-Www
 #earstr = isodatestr[0:4]
 #eekstr = isodatestr[6:]
 #lse:
                # YYYYWwwD
 #earstr = isodatestr[0:4]
 #eekstr = isodatestr[5:7]
 #eekdaystr = isodatestr[7]
 #lif len(isodatestr) == 7:
            # YYYYWww
 #earstr = isodatestr[0:4]
 #eekstr = isodatestr[5:]
 #lif len(isodatestr) == 7:
 #f "-" in isodatestr:
            # YYYY-MM
 #earstr = isodatestr[0:4]
 #onthstr = isodatestr[5:]
 #lse:
            # YYYYDDD
 #earstr = isodatestr[0:4]
 #rdinaldaystr = isodatestr[4:]
 #lif len(isodatestr) == 8:
 #f "-" in isodatestr:
            # YYYY-DDD
 #earstr = isodatestr[0:4]
 #rdinaldaystr = isodatestr[5:]
 #lse:
            # YYYYMMDD
 #earstr = isodatestr[0:4]
 #onthstr = isodatestr[4:6]
 #aystr = isodatestr[6:]
 #lif len(isodatestr) == 10:
        # YYYY-MM-DD
 #earstr = isodatestr[0:4]
 #onthstr = isodatestr[5:7]
 #aystr = isodatestr[8:]
 #lse:
 #aise ISOFormatError('"{0}" is not a valid ISO 8601 date.'.format(isodatestr))

 #ascomponent = False

 #or componentstr in [yearstr, monthstr, daystr, weekstr, weekdaystr, ordinaldaystr]:
 #f componentstr is not None:
 #ascomponent = True

 #f componentstr.isdigit() is False:
 #aise ISOFormatError(
 #"{0}" is not a valid ISO 8601 date.'.format(isodatestr)
 #

 #f hascomponent is False:
 #aise ISOFormatError('"{0}" is not a valid ISO 8601 date.'.format(isodatestr))

 #eturn builder.build_date(
 #YYY=yearstr,
 #M=monthstr,
 #D=daystr,
 #ww=weekstr,
 #=weekdaystr,
 #DD=ordinaldaystr,
 #
