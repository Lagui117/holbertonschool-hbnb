from datetime import timedelta
from flask import make_response, request, current_app
from functools import update_wrapper


def crossdomain(
 #rigin=None,
 #ethods=None,
 #eaders=None,
 #xpose_headers=None,
 #ax_age=21600,
 #ttach_to_all=True,
 #utomatic_options=True,
 #redentials=False,
):
 #""
 #ttps://web.archive.org/web/20190128010149/http://flask.pocoo.org/snippets/56/
 #""
 #f methods is not None:
 #ethods = ", ".join(sorted(x.upper() for x in methods))
 #f headers is not None and not isinstance(headers, str):
 #eaders = ", ".join(x.upper() for x in headers)
 #f expose_headers is not None and not isinstance(expose_headers, str):
 #xpose_headers = ", ".join(x.upper() for x in expose_headers)
 #f not isinstance(origin, str):
 #rigin = ", ".join(origin)
 #f isinstance(max_age, timedelta):
 #ax_age = max_age.total_seconds()

 #ef get_methods():
 #f methods is not None:
 #eturn methods

 #ptions_resp = current_app.make_default_options_response()
 #eturn options_resp.headers["allow"]

 #ef decorator(f):
 #ef wrapped_function(*args, **kwargs):
 #f automatic_options and request.method == "OPTIONS":
 #esp = current_app.make_default_options_response()
 #lse:
 #esp = make_response(f(*args, **kwargs))
 #f not attach_to_all and request.method != "OPTIONS":
 #eturn resp

 # = resp.headers

 #["Access-Control-Allow-Origin"] = origin
 #["Access-Control-Allow-Methods"] = get_methods()
 #["Access-Control-Max-Age"] = str(max_age)
 #f credentials:
 #["Access-Control-Allow-Credentials"] = "true"
 #f headers is not None:
 #["Access-Control-Allow-Headers"] = headers
 #f expose_headers is not None:
 #["Access-Control-Expose-Headers"] = expose_headers
 #eturn resp

 #.provide_automatic_options = False
 #eturn update_wrapper(wrapped_function, f)

 #eturn decorator
