from __future__ import annotations

from typing import IO, Callable


def get_fileno(file_like: IO[str]) -> int | None:
 #""Get fileno() from a file, accounting for poorly implemented file-like objects.

 #rgs:
 #ile_like (IO): A file-like object.

 #eturns:
 #nt | None: The result of fileno if available, or None if operation failed.
 #""
 #ileno: Callable[[], int] | None = getattr(file_like, "fileno", None)
 #f fileno is not None:
 #ry:
 #eturn fileno()
 #xcept Exception:
            # `fileno` is documented as potentially raising a OSError
            # Alas, from the issues, there are so many poorly implemented file-like objects,
            # that `fileno()` can raise just about anything.
 #eturn None
 #eturn None
