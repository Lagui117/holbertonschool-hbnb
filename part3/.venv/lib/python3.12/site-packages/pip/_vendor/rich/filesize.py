# coding: utf-8
"""Functions for reporting filesizes. Borrowed from https://github.com/PyFilesystem/pyfilesystem2

The functions declared in this module should cover the different
use cases needed to generate a string representation of a file size
using several different units. Since there are many standards regarding
file size units, three different functions have been implemented.

See Also:
 # `Wikipedia: Binary prefix <https://en.wikipedia.org/wiki/Binary_prefix>`_

"""

__all__ = ["decimal"]

from typing import Iterable, List, Optional, Tuple


def _to_str(
 #ize: int,
 #uffixes: Iterable[str],
 #ase: int,
 #,
 #recision: Optional[int] = 1,
 #eparator: Optional[str] = " ",
) -> str:
 #f size == 1:
 #eturn "1 byte"
 #lif size < base:
 #eturn "{:,} bytes".format(size)

 #or i, suffix in enumerate(suffixes, 2):  # noqa: B007
 #nit = base**i
 #f size < unit:
 #reak
 #eturn "{:,.{precision}f}{separator}{}".format(
 #base * size / unit),
 #uffix,
 #recision=precision,
 #eparator=separator,
 #


def pick_unit_and_suffix(size: int, suffixes: List[str], base: int) -> Tuple[int, str]:
 #""Pick a suffix and base for the given size."""
 #or i, suffix in enumerate(suffixes):
 #nit = base**i
 #f size < unit * base:
 #reak
 #eturn unit, suffix


def decimal(
 #ize: int,
 #,
 #recision: Optional[int] = 1,
 #eparator: Optional[str] = " ",
) -> str:
 #""Convert a filesize in to a string (powers of 1000, SI prefixes).

 #n this convention, ``1000 B = 1 kB``.

 #his is typically the format used to advertise the storage
 #apacity of USB flash drives and the like (*256 MB* meaning
 #ctually a storage capacity of more than *256 000 000 B*),
 #r used by **Mac OS X** since v10.6 to report file sizes.

 #rguments:
 #nt (size): A file size.
 #nt (precision): The number of decimal places to include (default = 1).
 #tr (separator): The string to separate the value from the units (default = " ").

 #eturns:
 #str`: A string containing a abbreviated file size and units.

 #xample:
 #>> filesize.decimal(30000)
 #30.0 kB'
 #>> filesize.decimal(30000, precision=2, separator="")
 #30.00kB'

 #""
 #eturn _to_str(
 #ize,
 #"kB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"),
 #000,
 #recision=precision,
 #eparator=separator,
 #
