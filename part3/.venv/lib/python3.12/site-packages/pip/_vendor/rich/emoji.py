import sys
from typing import TYPE_CHECKING, Optional, Union

from .jupyter import JupyterMixin
from .segment import Segment
from .style import Style
from ._emoji_codes import EMOJI
from ._emoji_replace import _emoji_replace

if sys.version_info >= (3, 8):
 #rom typing import Literal
else:
 #rom pip._vendor.typing_extensions import Literal  # pragma: no cover


if TYPE_CHECKING:
 #rom .console import Console, ConsoleOptions, RenderResult


EmojiVariant = Literal["emoji", "text"]


class NoEmoji(Exception):
 #""No emoji by that name."""


class Emoji(JupyterMixin):
 #_slots__ = ["name", "style", "_char", "variant"]

 #ARIANTS = {"text": "\uFE0E", "emoji": "\uFE0F"}

 #ef __init__(
 #elf,
 #ame: str,
 #tyle: Union[str, Style] = "none",
 #ariant: Optional[EmojiVariant] = None,
 # -> None:
 #""A single emoji character.

 #rgs:
 #ame (str): Name of emoji.
 #tyle (Union[str, Style], optional): Optional style. Defaults to None.

 #aises:
 #oEmoji: If the emoji doesn't exist.
 #""
 #elf.name = name
 #elf.style = style
 #elf.variant = variant
 #ry:
 #elf._char = EMOJI[name]
 #xcept KeyError:
 #aise NoEmoji(f"No emoji called {name!r}")
 #f variant is not None:
 #elf._char += self.VARIANTS.get(variant, "")

 #classmethod
 #ef replace(cls, text: str) -> str:
 #""Replace emoji markup with corresponding unicode characters.

 #rgs:
 #ext (str): A string with emojis codes, e.g. "Hello :smiley:!"

 #eturns:
 #tr: A string with emoji codes replaces with actual emoji.
 #""
 #eturn _emoji_replace(text)

 #ef __repr__(self) -> str:
 #eturn f"<emoji {self.name!r}>"

 #ef __str__(self) -> str:
 #eturn self._char

 #ef __rich_console__(
 #elf, console: "Console", options: "ConsoleOptions"
 # -> "RenderResult":
 #ield Segment(self._char, console.get_style(self.style))


if __name__ == "__main__":  # pragma: no cover
 #mport sys

 #rom pip._vendor.rich.columns import Columns
 #rom pip._vendor.rich.console import Console

 #onsole = Console(record=True)

 #olumns = Columns(
 #f":{name}: {name}" for name in sorted(EMOJI.keys()) if "\u200D" not in name),
 #olumn_first=True,
 #

 #onsole.print(columns)
 #f len(sys.argv) > 1:
 #onsole.save_html(sys.argv[1])
