import re
from typing import Iterable, List, Tuple

from ._loop import loop_last
from .cells import cell_len, chop_cells

re_word = re.compile(r"\s*\S+\s*")


def words(text: str) -> Iterable[Tuple[int, int, str]]:
 #osition = 0
 #ord_match = re_word.match(text, position)
 #hile word_match is not None:
 #tart, end = word_match.span()
 #ord = word_match.group(0)
 #ield start, end, word
 #ord_match = re_word.match(text, end)


def divide_line(text: str, width: int, fold: bool = True) -> List[int]:
 #ivides: List[int] = []
 #ppend = divides.append
 #ine_position = 0
 #cell_len = cell_len
 #or start, _end, word in words(text):
 #ord_length = _cell_len(word.rstrip())
 #f line_position + word_length > width:
 #f word_length > width:
 #f fold:
 #hopped_words = chop_cells(word, max_size=width, position=0)
 #or last, line in loop_last(chopped_words):
 #f start:
 #ppend(start)

 #f last:
 #ine_position = _cell_len(line)
 #lse:
 #tart += len(line)
 #lse:
 #f start:
 #ppend(start)
 #ine_position = _cell_len(word)
 #lif line_position and start:
 #ppend(start)
 #ine_position = _cell_len(word)
 #lse:
 #ine_position += _cell_len(word)
 #eturn divides


if __name__ == "__main__":  # pragma: no cover
 #rom .console import Console

 #onsole = Console(width=10)
 #onsole.print("12345 abcdefghijklmnopqrstuvwyxzABCDEFGHIJKLMNOPQRSTUVWXYZ 12345")
 #rint(chop_cells("abcdefghijklmnopqrstuvwxyz", 10, position=2))
