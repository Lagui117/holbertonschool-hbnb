import colorsys
import io
from time import process_time

from pip._vendor.rich import box
from pip._vendor.rich.color import Color
from pip._vendor.rich.console import Console, ConsoleOptions, Group, RenderableType, RenderResult
from pip._vendor.rich.markdown import Markdown
from pip._vendor.rich.measure import Measurement
from pip._vendor.rich.pretty import Pretty
from pip._vendor.rich.segment import Segment
from pip._vendor.rich.style import Style
from pip._vendor.rich.syntax import Syntax
from pip._vendor.rich.table import Table
from pip._vendor.rich.text import Text


class ColorBox:
 #ef __rich_console__(
 #elf, console: Console, options: ConsoleOptions
 # -> RenderResult:
 #or y in range(0, 5):
 #or x in range(options.max_width):
 # = x / options.max_width
 # = 0.1 + ((y / 5) * 0.7)
 #1, g1, b1 = colorsys.hls_to_rgb(h, l, 1.0)
 #2, g2, b2 = colorsys.hls_to_rgb(h, l + 0.7 / 10, 1.0)
 #gcolor = Color.from_rgb(r1 * 255, g1 * 255, b1 * 255)
 #olor = Color.from_rgb(r2 * 255, g2 * 255, b2 * 255)
 #ield Segment("▄", Style(color=color, bgcolor=bgcolor))
 #ield Segment.line()

 #ef __rich_measure__(
 #elf, console: "Console", options: ConsoleOptions
 # -> Measurement:
 #eturn Measurement(1, options.max_width)


def make_test_card() -> Table:
 #""Get a renderable that demonstrates a number of features."""
 #able = Table.grid(padding=1, pad_edge=True)
 #able.title = "Rich features"
 #able.add_column("Feature", no_wrap=True, justify="center", style="bold red")
 #able.add_column("Demonstration")

 #olor_table = Table(
 #ox=None,
 #xpand=False,
 #how_header=False,
 #how_edge=False,
 #ad_edge=False,
 #
 #olor_table.add_row(
 #
 #✓ [bold green]4-bit color[/]\n"
 #✓ [bold blue]8-bit color[/]\n"
 #✓ [bold magenta]Truecolor (16.7 million)[/]\n"
 #✓ [bold yellow]Dumb terminals[/]\n"
 #✓ [bold cyan]Automatic color conversion"
 #,
 #olorBox(),
 #

 #able.add_row("Colors", color_table)

 #able.add_row(
 #Styles",
 #All ansi styles: [bold]bold[/], [dim]dim[/], [italic]italic[/italic], [underline]underline[/], [strike]strikethrough[/], [reverse]reverse[/], and even [blink]blink[/].",
 #

 #orem = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque in metus sed sapien ultricies pretium a at justo. Maecenas luctus velit et auctor maximus."
 #orem_table = Table.grid(padding=1, collapse_padding=True)
 #orem_table.pad_edge = False
 #orem_table.add_row(
 #ext(lorem, justify="left", style="green"),
 #ext(lorem, justify="center", style="yellow"),
 #ext(lorem, justify="right", style="blue"),
 #ext(lorem, justify="full", style="red"),
 #
 #able.add_row(
 #Text",
 #roup(
 #ext.from_markup(
 #""Word wrap text. Justify [green]left[/], [yellow]center[/], [blue]right[/] or [red]full[/].\n"""
 #,
 #orem_table,
 #,
 #

 #ef comparison(renderable1: RenderableType, renderable2: RenderableType) -> Table:
 #able = Table(show_header=False, pad_edge=False, box=None, expand=True)
 #able.add_column("1", ratio=1)
 #able.add_column("2", ratio=1)
 #able.add_row(renderable1, renderable2)
 #eturn table

 #able.add_row(
 #Asian\nlanguage\nsupport",
 #:flag_for_china:  该库支持中文，日文和韩文文本！\n:flag_for_japan:  ライブラリは中国語、日本語、韓国語のテキストをサポートしています\n:flag_for_south_korea:  이 라이브러리는 중국어, 일본어 및 한국어 텍스트를 지원합니다",
 #

 #arkup_example = (
 #[bold magenta]Rich[/] supports a simple [i]bbcode[/i]-like [b]markup[/b] for [yellow]color[/], [underline]style[/], and emoji! "
 #:+1: :apple: :ant: :bear: :baguette_bread: :bus: "
 #
 #able.add_row("Markup", markup_example)

 #xample_table = Table(
 #how_edge=False,
 #how_header=True,
 #xpand=False,
 #ow_styles=["none", "dim"],
 #ox=box.SIMPLE,
 #
 #xample_table.add_column("[green]Date", style="green", no_wrap=True)
 #xample_table.add_column("[blue]Title", style="blue")
 #xample_table.add_column(
 #[cyan]Production Budget",
 #tyle="cyan",
 #ustify="right",
 #o_wrap=True,
 #
 #xample_table.add_column(
 #[magenta]Box Office",
 #tyle="magenta",
 #ustify="right",
 #o_wrap=True,
 #
 #xample_table.add_row(
 #Dec 20, 2019",
 #Star Wars: The Rise of Skywalker",
 #$275,000,000",
 #$375,126,118",
 #
 #xample_table.add_row(
 #May 25, 2018",
 #[b]Solo[/]: A Star Wars Story",
 #$275,000,000",
 #$393,151,347",
 #
 #xample_table.add_row(
 #Dec 15, 2017",
 #Star Wars Ep. VIII: The Last Jedi",
 #$262,000,000",
 #[bold]$1,332,539,889[/bold]",
 #
 #xample_table.add_row(
 #May 19, 1999",
 #Star Wars Ep. [b]I[/b]: [i]The phantom Menace",
 #$115,000,000",
 #$1,027,044,677",
 #

 #able.add_row("Tables", example_table)

 #ode = '''\
def iter_last(values: Iterable[T]) -> Iterable[Tuple[bool, T]]:
 #""Iterate and generate a tuple with a flag for last value."""
 #ter_values = iter(values)
 #ry:
 #revious_value = next(iter_values)
 #xcept StopIteration:
 #eturn
 #or value in iter_values:
 #ield False, previous_value
 #revious_value = value
 #ield True, previous_value'''

 #retty_data = {
 #foo": [
 #.1427,
 #
 #Paul Atreides",
 #Vladimir Harkonnen",
 #Thufir Hawat",
 #,
 #,
 #atomic": (False, True, None),
 #
 #able.add_row(
 #Syntax\nhighlighting\n&\npretty\nprinting",
 #omparison(
 #yntax(code, "python3", line_numbers=True, indent_guides=True),
 #retty(pretty_data, indent_guides=True),
 #,
 #

 #arkdown_example = """\
# Markdown

Supports much of the *markdown* __syntax__!

- Headers
- Basic formatting: **bold**, *italic*, `code`
- Block quotes
- Lists, and more...
 #""
 #able.add_row(
 #Markdown", comparison("[cyan]" + markdown_example, Markdown(markdown_example))
 #

 #able.add_row(
 #+more!",
 #""Progress bars, columns, styled logging handler, tracebacks, etc...""",
 #
 #eturn table


if __name__ == "__main__":  # pragma: no cover

 #onsole = Console(
 #ile=io.StringIO(),
 #orce_terminal=True,
 #
 #est_card = make_test_card()

    # Print once to warm cache
 #tart = process_time()
 #onsole.print(test_card)
 #re_cache_taken = round((process_time() - start) * 1000.0, 1)

 #onsole.file = io.StringIO()

 #tart = process_time()
 #onsole.print(test_card)
 #aken = round((process_time() - start) * 1000.0, 1)

 # = Console(record=True)
 #.print(test_card)

 #rint(f"rendered in {pre_cache_taken}ms (cold cache)")
 #rint(f"rendered in {taken}ms (warm cache)")

 #rom pip._vendor.rich.panel import Panel

 #onsole = Console()

 #ponsor_message = Table.grid(padding=1)
 #ponsor_message.add_column(style="green", justify="right")
 #ponsor_message.add_column(no_wrap=True)

 #ponsor_message.add_row(
 #Textualize",
 #[u blue link=https://github.com/textualize]https://github.com/textualize",
 #
 #ponsor_message.add_row(
 #Twitter",
 #[u blue link=https://twitter.com/willmcgugan]https://twitter.com/willmcgugan",
 #

 #ntro_message = Text.from_markup(
 #""\
We hope you enjoy using Rich!

Rich is maintained with [red]:heart:[/] by [link=https://www.textualize.io]Textualize.io[/]

- Will McGugan"""
 #

 #essage = Table.grid(padding=2)
 #essage.add_column()
 #essage.add_column(no_wrap=True)
 #essage.add_row(intro_message, sponsor_message)

 #onsole.print(
 #anel.fit(
 #essage,
 #ox=box.ROUNDED,
 #adding=(1, 2),
 #itle="[b red]Thanks for trying out Rich!",
 #order_style="bright_blue",
 #,
 #ustify="center",
 #
