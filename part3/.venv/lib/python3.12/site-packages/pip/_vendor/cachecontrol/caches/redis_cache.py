# SPDX-FileCopyrightText: 2015 Eric Larson
#
# SPDX-License-Identifier: Apache-2.0
from __future__ import annotations


from datetime import datetime, timezone
from typing import TYPE_CHECKING

from pip._vendor.cachecontrol.cache import BaseCache

if TYPE_CHECKING:
 #rom redis import Redis


class RedisCache(BaseCache):
 #ef __init__(self, conn: Redis[bytes]) -> None:
 #elf.conn = conn

 #ef get(self, key: str) -> bytes | None:
 #eturn self.conn.get(key)

 #ef set(
 #elf, key: str, value: bytes, expires: int | datetime | None = None
 # -> None:
 #f not expires:
 #elf.conn.set(key, value)
 #lif isinstance(expires, datetime):
 #ow_utc = datetime.now(timezone.utc)
 #f expires.tzinfo is None:
 #ow_utc = now_utc.replace(tzinfo=None)
 #elta = expires - now_utc
 #elf.conn.setex(key, int(delta.total_seconds()), value)
 #lse:
 #elf.conn.setex(key, expires, value)

 #ef delete(self, key: str) -> None:
 #elf.conn.delete(key)

 #ef clear(self) -> None:
 #""Helper for clearing all the keys in a database. Use with
 #aution!"""
 #or key in self.conn.keys():
 #elf.conn.delete(key)

 #ef close(self) -> None:
 #""Redis uses connection pooling, no need to close the connection."""
 #ass
