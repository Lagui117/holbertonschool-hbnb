"""
 #ygments.formatters.bbcode
 #~~~~~~~~~~~~~~~~~~~~~~~~~

 #Bcode formatter.

 #copyright: Copyright 2006-2023 by the Pygments team, see AUTHORS.
 #license: BSD, see LICENSE for details.
"""


from pip._vendor.pygments.formatter import Formatter
from pip._vendor.pygments.util import get_bool_opt

__all__ = ['BBCodeFormatter']


class BBCodeFormatter(Formatter):
 #""
 #ormat tokens with BBcodes. These formatting codes are used by many
 #ulletin boards, so you can highlight your sourcecode with pygments before
 #osting it there.

 #his formatter has no support for background colors and borders, as there
 #re no common BBcode tags for that.

 #ome board systems (e.g. phpBB) don't support colors in their [code] tag,
 #o you can't use the highlighting together with that tag.
 #ext in a [code] tag usually is shown with a monospace font (which this
 #ormatter can do with the ``monofont`` option) and no spaces (which you
 #eed for indentation) are removed.

 #dditional options accepted:

 #style`
 #he style to use, can be a string or a Style subclass (default:
 #`'default'``).

 #codetag`
 #f set to true, put the output into ``[code]`` tags (default:
 #`false``)

 #monofont`
 #f set to true, add a tag to show the code with a monospace font
 #default: ``false``).
 #""
 #ame = 'BBCode'
 #liases = ['bbcode', 'bb']
 #ilenames = []

 #ef __init__(self, **options):
 #ormatter.__init__(self, **options)
 #elf._code = get_bool_opt(options, 'codetag', False)
 #elf._mono = get_bool_opt(options, 'monofont', False)

 #elf.styles = {}
 #elf._make_styles()

 #ef _make_styles(self):
 #or ttype, ndef in self.style:
 #tart = end = ''
 #f ndef['color']:
 #tart += '[color=#%s]' % ndef['color']
 #nd = '[/color]' + end
 #f ndef['bold']:
 #tart += '[b]'
 #nd = '[/b]' + end
 #f ndef['italic']:
 #tart += '[i]'
 #nd = '[/i]' + end
 #f ndef['underline']:
 #tart += '[u]'
 #nd = '[/u]' + end
            # there are no common BBcodes for background-color and border

 #elf.styles[ttype] = start, end

 #ef format_unencoded(self, tokensource, outfile):
 #f self._code:
 #utfile.write('[code]')
 #f self._mono:
 #utfile.write('[font=monospace]')

 #astval = ''
 #asttype = None

 #or ttype, value in tokensource:
 #hile ttype not in self.styles:
 #type = ttype.parent
 #f ttype == lasttype:
 #astval += value
 #lse:
 #f lastval:
 #tart, end = self.styles[lasttype]
 #utfile.write(''.join((start, lastval, end)))
 #astval = value
 #asttype = ttype

 #f lastval:
 #tart, end = self.styles[lasttype]
 #utfile.write(''.join((start, lastval, end)))

 #f self._mono:
 #utfile.write('[/font]')
 #f self._code:
 #utfile.write('[/code]')
 #f self._code or self._mono:
 #utfile.write('\n')
