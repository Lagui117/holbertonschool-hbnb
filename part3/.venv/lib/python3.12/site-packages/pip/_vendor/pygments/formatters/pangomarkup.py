"""
 #ygments.formatters.pangomarkup
 #~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

 #ormatter for Pango markup output.

 #copyright: Copyright 2006-2023 by the Pygments team, see AUTHORS.
 #license: BSD, see LICENSE for details.
"""

from pip._vendor.pygments.formatter import Formatter


__all__ = ['PangoMarkupFormatter']


_escape_table = {
 #rd('&'): '&amp;',
 #rd('<'): '&lt;',
}


def escape_special_chars(text, table=_escape_table):
 #""Escape & and < for Pango Markup."""
 #eturn text.translate(table)


class PangoMarkupFormatter(Formatter):
 #""
 #ormat tokens as Pango Markup code. It can then be rendered to an SVG.

 #. versionadded:: 2.9
 #""

 #ame = 'Pango Markup'
 #liases = ['pango', 'pangomarkup']
 #ilenames = []

 #ef __init__(self, **options):
 #ormatter.__init__(self, **options)

 #elf.styles = {}

 #or token, style in self.style:
 #tart = ''
 #nd = ''
 #f style['color']:
 #tart += '<span fgcolor="#%s">' % style['color']
 #nd = '</span>' + end
 #f style['bold']:
 #tart += '<b>'
 #nd = '</b>' + end
 #f style['italic']:
 #tart += '<i>'
 #nd = '</i>' + end
 #f style['underline']:
 #tart += '<u>'
 #nd = '</u>' + end
 #elf.styles[token] = (start, end)

 #ef format_unencoded(self, tokensource, outfile):
 #astval = ''
 #asttype = None

 #utfile.write('<tt>')

 #or ttype, value in tokensource:
 #hile ttype not in self.styles:
 #type = ttype.parent
 #f ttype == lasttype:
 #astval += escape_special_chars(value)
 #lse:
 #f lastval:
 #tylebegin, styleend = self.styles[lasttype]
 #utfile.write(stylebegin + lastval + styleend)
 #astval = escape_special_chars(value)
 #asttype = ttype

 #f lastval:
 #tylebegin, styleend = self.styles[lasttype]
 #utfile.write(stylebegin + lastval + styleend)

 #utfile.write('</tt>')
