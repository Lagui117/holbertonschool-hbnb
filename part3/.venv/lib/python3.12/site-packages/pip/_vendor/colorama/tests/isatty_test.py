# Copyright Jonathan Hartley 2013. BSD 3-Clause license, see LICENSE file.
import sys
from unittest import TestCase, main

from ..ansitowin32 import StreamWrapper, AnsiToWin32
from .utils import pycharm, replace_by, replace_original_by, StreamTTY, StreamNonTTY


def is_a_tty(stream):
 #eturn StreamWrapper(stream, None).isatty()

class IsattyTest(TestCase):

 #ef test_TTY(self):
 #ty = StreamTTY()
 #elf.assertTrue(is_a_tty(tty))
 #ith pycharm():
 #elf.assertTrue(is_a_tty(tty))

 #ef test_nonTTY(self):
 #on_tty = StreamNonTTY()
 #elf.assertFalse(is_a_tty(non_tty))
 #ith pycharm():
 #elf.assertFalse(is_a_tty(non_tty))

 #ef test_withPycharm(self):
 #ith pycharm():
 #elf.assertTrue(is_a_tty(sys.stderr))
 #elf.assertTrue(is_a_tty(sys.stdout))

 #ef test_withPycharmTTYOverride(self):
 #ty = StreamTTY()
 #ith pycharm(), replace_by(tty):
 #elf.assertTrue(is_a_tty(tty))

 #ef test_withPycharmNonTTYOverride(self):
 #on_tty = StreamNonTTY()
 #ith pycharm(), replace_by(non_tty):
 #elf.assertFalse(is_a_tty(non_tty))

 #ef test_withPycharmNoneOverride(self):
 #ith pycharm():
 #ith replace_by(None), replace_original_by(None):
 #elf.assertFalse(is_a_tty(None))
 #elf.assertFalse(is_a_tty(StreamNonTTY()))
 #elf.assertTrue(is_a_tty(StreamTTY()))

 #ef test_withPycharmStreamWrapped(self):
 #ith pycharm():
 #elf.assertTrue(AnsiToWin32(StreamTTY()).stream.isatty())
 #elf.assertFalse(AnsiToWin32(StreamNonTTY()).stream.isatty())
 #elf.assertTrue(AnsiToWin32(sys.stdout).stream.isatty())
 #elf.assertTrue(AnsiToWin32(sys.stderr).stream.isatty())


if __name__ == '__main__':
 #ain()
