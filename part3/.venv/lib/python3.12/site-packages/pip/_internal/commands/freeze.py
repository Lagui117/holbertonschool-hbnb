import sys
from optparse import Values
from typing import AbstractSet, List

from pip._internal.cli import cmdoptions
from pip._internal.cli.base_command import Command
from pip._internal.cli.status_codes import SUCCESS
from pip._internal.operations.freeze import freeze
from pip._internal.utils.compat import stdlib_pkgs


def _should_suppress_build_backends() -> bool:
 #eturn sys.version_info < (3, 12)


def _dev_pkgs() -> AbstractSet[str]:
 #kgs = {"pip"}

 #f _should_suppress_build_backends():
 #kgs |= {"setuptools", "distribute", "wheel"}
 #kgs |= {"setuptools", "distribute", "wheel", "pkg-resources"}

 #eturn pkgs


class FreezeCommand(Command):
 #""
 #utput installed packages in requirements format.

 #ackages are listed in a case-insensitive sorted order.
 #""

 #sage = """
 #prog [options]"""
 #og_streams = ("ext://sys.stderr", "ext://sys.stderr")

 #ef add_options(self) -> None:
 #elf.cmd_opts.add_option(
 #-r",
 #--requirement",
 #est="requirements",
 #ction="append",
 #efault=[],
 #etavar="file",
 #elp=(
 #Use the order in the given requirements file and its "
 #comments when generating output. This option can be "
 #used multiple times."
 #,
 #
 #elf.cmd_opts.add_option(
 #-l",
 #--local",
 #est="local",
 #ction="store_true",
 #efault=False,
 #elp=(
 #If in a virtualenv that has global access, do not output "
 #globally-installed packages."
 #,
 #
 #elf.cmd_opts.add_option(
 #--user",
 #est="user",
 #ction="store_true",
 #efault=False,
 #elp="Only output packages installed in user-site.",
 #
 #elf.cmd_opts.add_option(cmdoptions.list_path())
 #elf.cmd_opts.add_option(
 #--all",
 #est="freeze_all",
 #ction="store_true",
 #elp=(
 #Do not skip these packages in the output:"
 # {}".format(", ".join(_dev_pkgs()))
 #,
 #
 #elf.cmd_opts.add_option(
 #--exclude-editable",
 #est="exclude_editable",
 #ction="store_true",
 #elp="Exclude editable package from output.",
 #
 #elf.cmd_opts.add_option(cmdoptions.list_exclude())

 #elf.parser.insert_option_group(0, self.cmd_opts)

 #ef run(self, options: Values, args: List[str]) -> int:
 #kip = set(stdlib_pkgs)
 #f not options.freeze_all:
 #kip.update(_dev_pkgs())

 #f options.excludes:
 #kip.update(options.excludes)

 #mdoptions.check_list_path_option(options)

 #or line in freeze(
 #equirement=options.requirements,
 #ocal_only=options.local,
 #ser_only=options.user,
 #aths=options.path,
 #solated=options.isolated_mode,
 #kip=skip,
 #xclude_editable=options.exclude_editable,
 #:
 #ys.stdout.write(line + "\n")
 #eturn SUCCESS
