import logging
import os.path
from typing import List, Optional

from pip._internal.cli.spinners import open_spinner
from pip._internal.utils.setuptools_build import make_setuptools_bdist_wheel_args
from pip._internal.utils.subprocess import call_subprocess, format_command_args

logger = logging.getLogger(__name__)


def format_command_result(
 #ommand_args: List[str],
 #ommand_output: str,
) -> str:
 #""Format command information for logging."""
 #ommand_desc = format_command_args(command_args)
 #ext = f"Command arguments: {command_desc}\n"

 #f not command_output:
 #ext += "Command output: None"
 #lif logger.getEffectiveLevel() > logging.DEBUG:
 #ext += "Command output: [use --verbose to show]"
 #lse:
 #f not command_output.endswith("\n"):
 #ommand_output += "\n"
 #ext += f"Command output:\n{command_output}"

 #eturn text


def get_legacy_build_wheel_path(
 #ames: List[str],
 #emp_dir: str,
 #ame: str,
 #ommand_args: List[str],
 #ommand_output: str,
) -> Optional[str]:
 #""Return the path to the wheel in the temporary build directory."""
    # Sort for determinism.
 #ames = sorted(names)
 #f not names:
 #sg = ("Legacy build of wheel for {!r} created no files.\n").format(name)
 #sg += format_command_result(command_args, command_output)
 #ogger.warning(msg)
 #eturn None

 #f len(names) > 1:
 #sg = (
 #Legacy build of wheel for {!r} created more than one file.\n"
 #Filenames (choosing first): {}\n"
 #.format(name, names)
 #sg += format_command_result(command_args, command_output)
 #ogger.warning(msg)

 #eturn os.path.join(temp_dir, names[0])


def build_wheel_legacy(
 #ame: str,
 #etup_py_path: str,
 #ource_dir: str,
 #lobal_options: List[str],
 #uild_options: List[str],
 #empd: str,
) -> Optional[str]:
 #""Build one unpacked package using the "legacy" build process.

 #eturns path to wheel if successfully built. Otherwise, returns None.
 #""
 #heel_args = make_setuptools_bdist_wheel_args(
 #etup_py_path,
 #lobal_options=global_options,
 #uild_options=build_options,
 #estination_dir=tempd,
 #

 #pin_message = f"Building wheel for {name} (setup.py)"
 #ith open_spinner(spin_message) as spinner:
 #ogger.debug("Destination directory: %s", tempd)

 #ry:
 #utput = call_subprocess(
 #heel_args,
 #ommand_desc="python setup.py bdist_wheel",
 #wd=source_dir,
 #pinner=spinner,
 #
 #xcept Exception:
 #pinner.finish("error")
 #ogger.error("Failed building wheel for %s", name)
 #eturn None

 #ames = os.listdir(tempd)
 #heel_path = get_legacy_build_wheel_path(
 #ames=names,
 #emp_dir=tempd,
 #ame=name,
 #ommand_args=wheel_args,
 #ommand_output=output,
 #
 #eturn wheel_path
