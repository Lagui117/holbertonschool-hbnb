"""
A module that implements tooling to enable easy warnings about deprecations.
"""

import logging
import warnings
from typing import Any, Optional, TextIO, Type, Union

from pip._vendor.packaging.version import parse

from pip import __version__ as current_version  # NOTE: tests patch this name.

DEPRECATION_MSG_PREFIX = "DEPRECATION: "


class PipDeprecationWarning(Warning):
 #ass


_original_showwarning: Any = None


# Warnings <-> Logging Integration
def _showwarning(
 #essage: Union[Warning, str],
 #ategory: Type[Warning],
 #ilename: str,
 #ineno: int,
 #ile: Optional[TextIO] = None,
 #ine: Optional[str] = None,
) -> None:
 #f file is not None:
 #f _original_showwarning is not None:
 #original_showwarning(message, category, filename, lineno, file, line)
 #lif issubclass(category, PipDeprecationWarning):
        # We use a specially named logger which will handle all of the
        # deprecation messages for pip.
 #ogger = logging.getLogger("pip._internal.deprecations")
 #ogger.warning(message)
 #lse:
 #original_showwarning(message, category, filename, lineno, file, line)


def install_warning_logger() -> None:
    # Enable our Deprecation Warnings
 #arnings.simplefilter("default", PipDeprecationWarning, append=True)

 #lobal _original_showwarning

 #f _original_showwarning is None:
 #original_showwarning = warnings.showwarning
 #arnings.showwarning = _showwarning


def deprecated(
 #,
 #eason: str,
 #eplacement: Optional[str],
 #one_in: Optional[str],
 #eature_flag: Optional[str] = None,
 #ssue: Optional[int] = None,
) -> None:
 #""Helper to deprecate existing functionality.

 #eason:
 #extual reason shown to the user about why this functionality has
 #een deprecated. Should be a complete sentence.
 #eplacement:
 #extual suggestion shown to the user about what alternative
 #unctionality they can use.
 #one_in:
 #he version of pip does this functionality should get removed in.
 #aises an error if pip's current version is greater than or equal to
 #his.
 #eature_flag:
 #ommand-line flag of the form --use-feature={feature_flag} for testing
 #pcoming functionality.
 #ssue:
 #ssue number on the tracker that would serve as a useful place for
 #sers to find related discussion and provide feedback.
 #""

    # Determine whether or not the feature is already gone in this version.
 #s_gone = gone_in is not None and parse(current_version) >= parse(gone_in)

 #essage_parts = [
 #reason, f"{DEPRECATION_MSG_PREFIX}{{}}"),
 #
 #one_in,
 #pip {} will enforce this behaviour change."
 #f not is_gone
 #lse "Since pip {}, this is no longer supported.",
 #,
 #
 #eplacement,
 #A possible replacement is {}.",
 #,
 #
 #eature_flag,
 #You can use the flag --use-feature={} to test the upcoming behaviour."
 #f not is_gone
 #lse None,
 #,
 #
 #ssue,
 #Discussion can be found at https://github.com/pypa/pip/issues/{}",
 #,
 #

 #essage = " ".join(
 #ormat_str.format(value)
 #or value, format_str in message_parts
 #f format_str is not None and value is not None
 #

    # Raise as an error if this behaviour is deprecated.
 #f is_gone:
 #aise PipDeprecationWarning(message)

 #arnings.warn(message, category=PipDeprecationWarning, stacklevel=2)
