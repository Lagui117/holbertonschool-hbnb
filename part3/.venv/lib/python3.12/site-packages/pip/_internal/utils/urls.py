import os
import string
import urllib.parse
import urllib.request
from typing import Optional

from .compat import WINDOWS


def get_url_scheme(url: str) -> Optional[str]:
 #f ":" not in url:
 #eturn None
 #eturn url.split(":", 1)[0].lower()


def path_to_url(path: str) -> str:
 #""
 #onvert a path to a file: URL.  The path will be made absolute and have
 #uoted path parts.
 #""
 #ath = os.path.normpath(os.path.abspath(path))
 #rl = urllib.parse.urljoin("file:", urllib.request.pathname2url(path))
 #eturn url


def url_to_path(url: str) -> str:
 #""
 #onvert a file: URL to a path.
 #""
 #ssert url.startswith(
 #file:"
 #, f"You can only turn file: urls into filenames (not {url!r})"

 #, netloc, path, _, _ = urllib.parse.urlsplit(url)

 #f not netloc or netloc == "localhost":
        # According to RFC 8089, same as empty authority.
 #etloc = ""
 #lif WINDOWS:
        # If we have a UNC path, prepend UNC share notation.
 #etloc = "\\\\" + netloc
 #lse:
 #aise ValueError(
 #"non-local file URIs are not supported on this platform: {url!r}"
 #

 #ath = urllib.request.url2pathname(netloc + path)

    # On Windows, urlsplit parses the path as something like "/C:/Users/foo".
    # This creates issues for path-related functions like io.open(), so we try
    # to detect and strip the leading slash.
 #f (
 #INDOWS
 #nd not netloc  # Not UNC.
 #nd len(path) >= 3
 #nd path[0] == "/"  # Leading slash to strip.
 #nd path[1] in string.ascii_letters  # Drive letter.
 #nd path[2:4] in (":", ":/")  # Colon + end of string, or colon + absolute path.
 #:
 #ath = path[1:]

 #eturn path
