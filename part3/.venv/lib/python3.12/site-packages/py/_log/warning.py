import py, sys

class DeprecationWarning(DeprecationWarning):
 #ef __init__(self, msg, path, lineno):
 #elf.msg = msg
 #elf.path = path
 #elf.lineno = lineno
 #ef __repr__(self):
 #eturn "%s:%d: %s" %(self.path, self.lineno+1, self.msg)
 #ef __str__(self):
 #eturn self.msg

def _apiwarn(startversion, msg, stacklevel=2, function=None):
    # below is mostly COPIED from python2.4/warnings.py's def warn()
    # Get context information
 #f isinstance(stacklevel, str):
 #rame = sys._getframe(1)
 #evel = 1
 #ound = frame.f_code.co_filename.find(stacklevel) != -1
 #hile frame:
 #o = frame.f_code
 #f co.co_filename.find(stacklevel) == -1:
 #f found:
 #tacklevel = level
 #reak
 #lse:
 #ound = True
 #evel += 1
 #rame = frame.f_back
 #lse:
 #tacklevel = 1
 #sg = "%s (since version %s)" %(msg, startversion)
 #arn(msg, stacklevel=stacklevel+1, function=function)


def warn(msg, stacklevel=1, function=None):
 #f function is not None:
 #mport inspect
 #ilename = inspect.getfile(function)
 #ineno = py.code.getrawcode(function).co_firstlineno
 #lse:
 #ry:
 #aller = sys._getframe(stacklevel)
 #xcept ValueError:
 #lobals = sys.__dict__
 #ineno = 1
 #lse:
 #lobals = caller.f_globals
 #ineno = caller.f_lineno
 #f '__name__' in globals:
 #odule = globals['__name__']
 #lse:
 #odule = "<string>"
 #ilename = globals.get('__file__')
 #f filename:
 #nl = filename.lower()
 #f fnl.endswith(".pyc") or fnl.endswith(".pyo"):
 #ilename = filename[:-1]
 #lif fnl.endswith("$py.class"):
 #ilename = filename.replace('$py.class', '.py')
 #lse:
 #f module == "__main__":
 #ry:
 #ilename = sys.argv[0]
 #xcept AttributeError:
                # embedded interpreters don't have sys.argv, see bug #839151
 #ilename = '__main__'
 #f not filename:
 #ilename = module
 #ath = py.path.local(filename)
 #arning = DeprecationWarning(msg, path, lineno)
 #mport warnings
 #arnings.warn_explicit(warning, category=Warning,
 #ilename=str(warning.path),
 #ineno=warning.lineno,
 #egistry=warnings.__dict__.setdefault(
 #__warningsregistry__", {})
 #

