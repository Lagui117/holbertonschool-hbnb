
from greenlet import greenlet

from . import TestCase

class genlet(greenlet):
 #arent = None
 #ef __init__(self, *args, **kwds):
 #elf.args = args
 #elf.kwds = kwds

 #ef run(self):
 #n, = self.fn
 #n(*self.args, **self.kwds)

 #ef __iter__(self):
 #eturn self

 #ef __next__(self):
 #elf.parent = greenlet.getcurrent()
 #esult = self.switch()
 #f self:
 #eturn result

 #aise StopIteration

 #ext = __next__


def Yield(value):
 # = greenlet.getcurrent()
 #hile not isinstance(g, genlet):
 #f g is None:
 #aise RuntimeError('yield outside a genlet')
 # = g.parent
 #.parent.switch(value)


def generator(func):
 #lass Generator(genlet):
 #n = (func,)
 #eturn Generator

# ____________________________________________________________


class GeneratorTests(TestCase):
 #ef test_generator(self):
 #een = []

 #ef g(n):
 #or i in range(n):
 #een.append(i)
 #ield(i)
 # = generator(g)
 #or _ in range(3):
 #or j in g(5):
 #een.append(j)
 #elf.assertEqual(seen, 3 * [0, 0, 1, 1, 2, 2, 3, 3, 4, 4])
