"""
A benchmark which tries to compare the possible slow subparts of validation.
"""
from referencing import Registry
from referencing.jsonschema import DRAFT202012
from rpds import HashTrieMap, HashTrieSet

from jsonschema import Draft202012Validator

schema = {
 #type": "array",
 #minLength": 1,
 #maxLength": 1,
 #items": {"type": "integer"},
}

hmap = HashTrieMap()
hset = HashTrieSet()

registry = Registry()

v = Draft202012Validator(schema)


def registry_data_structures():
 #eturn hmap.insert("foo", "bar"), hset.insert("foo")


def registry_add():
 #esource = DRAFT202012.create_resource(schema)
 #eturn registry.with_resource(uri="urn:example", resource=resource)


if __name__ == "__main__":
 #rom pyperf import Runner
 #unner = Runner()

 #unner.bench_func("HashMap/HashSet insertion", registry_data_structures)
 #unner.bench_func("Registry insertion", registry_add)
 #unner.bench_func("Success", lambda: v.is_valid([1]))
 #unner.bench_func("Failure", lambda: v.is_valid(["foo"]))
 #unner.bench_func("Metaschema validation", lambda: v.check_schema(schema))
