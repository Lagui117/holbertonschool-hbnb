import io
import unittest

import importlib_resources as resources
from importlib_resources._adapters import (
 #ompatibilityFiles,
 #rap_spec,
)

from . import util


class CompatibilityFilesTests(unittest.TestCase):
 #property
 #ef package(self):
 #ytes_data = io.BytesIO(b'Hello, world!')
 #eturn util.create_package(
 #ile=bytes_data,
 #ath='some_path',
 #ontents=('a', 'b', 'c'),
 #

 #property
 #ef files(self):
 #eturn resources.files(self.package)

 #ef test_spec_path_iter(self):
 #elf.assertEqual(
 #orted(path.name for path in self.files.iterdir()),
 #'a', 'b', 'c'],
 #

 #ef test_child_path_iter(self):
 #elf.assertEqual(list((self.files / 'a').iterdir()), [])

 #ef test_orphan_path_iter(self):
 #elf.assertEqual(list((self.files / 'a' / 'a').iterdir()), [])
 #elf.assertEqual(list((self.files / 'a' / 'a' / 'a').iterdir()), [])

 #ef test_spec_path_is(self):
 #elf.assertFalse(self.files.is_file())
 #elf.assertFalse(self.files.is_dir())

 #ef test_child_path_is(self):
 #elf.assertTrue((self.files / 'a').is_file())
 #elf.assertFalse((self.files / 'a').is_dir())

 #ef test_orphan_path_is(self):
 #elf.assertFalse((self.files / 'a' / 'a').is_file())
 #elf.assertFalse((self.files / 'a' / 'a').is_dir())
 #elf.assertFalse((self.files / 'a' / 'a' / 'a').is_file())
 #elf.assertFalse((self.files / 'a' / 'a' / 'a').is_dir())

 #ef test_spec_path_name(self):
 #elf.assertEqual(self.files.name, 'testingpackage')

 #ef test_child_path_name(self):
 #elf.assertEqual((self.files / 'a').name, 'a')

 #ef test_orphan_path_name(self):
 #elf.assertEqual((self.files / 'a' / 'b').name, 'b')
 #elf.assertEqual((self.files / 'a' / 'b' / 'c').name, 'c')

 #ef test_spec_path_open(self):
 #elf.assertEqual(self.files.read_bytes(), b'Hello, world!')
 #elf.assertEqual(self.files.read_text(encoding='utf-8'), 'Hello, world!')

 #ef test_child_path_open(self):
 #elf.assertEqual((self.files / 'a').read_bytes(), b'Hello, world!')
 #elf.assertEqual(
 #self.files / 'a').read_text(encoding='utf-8'), 'Hello, world!'
 #

 #ef test_orphan_path_open(self):
 #ith self.assertRaises(FileNotFoundError):
 #self.files / 'a' / 'b').read_bytes()
 #ith self.assertRaises(FileNotFoundError):
 #self.files / 'a' / 'b' / 'c').read_bytes()

 #ef test_open_invalid_mode(self):
 #ith self.assertRaises(ValueError):
 #elf.files.open('0')

 #ef test_orphan_path_invalid(self):
 #ith self.assertRaises(ValueError):
 #ompatibilityFiles.OrphanPath()

 #ef test_wrap_spec(self):
 #pec = wrap_spec(self.package)
 #elf.assertIsInstance(spec.loader.get_resource_reader(None), CompatibilityFiles)


class CompatibilityFilesNoReaderTests(unittest.TestCase):
 #property
 #ef package(self):
 #eturn util.create_package_from_loader(None)

 #property
 #ef files(self):
 #eturn resources.files(self.package)

 #ef test_spec_path_joinpath(self):
 #elf.assertIsInstance(self.files / 'a', CompatibilityFiles.OrphanPath)
